(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=s(i);fetch(i.href,r)}})();function nr(){return Math.round(Math.random()*255)}function zn(){return`10000000-1000-4000-8000${-1e11}`.replace(/[018]/g,t=>(parseInt(t)^nr()&15>>parseInt(t)/4).toString(16))}const me=[];function ir(){const t=zn();return me.indexOf(t)===-1&&me.push(me),t}function rr(){let t;do t=zn();while(me.indexOf(t)!==-1);return me.push(t),t}const or=Object.freeze(Object.defineProperty({__proto__:null,createGuid:ir,createUniqueGuid:rr},Symbol.toStringTag,{value:"Module"}));function lr(){}const cr=lr,Yn=console.warn;let Qt=class je{constructor(e,s,n,i){this.r=e,this.g=s,this.b=n,this.a=i}add(e,s,n,i){return new je(Math.min(255,this.r+e),this.g+s,this.b+n,this.a+i)}toRGBAString(){return`rgba(${~~this.r},${~~this.g},${~~this.b},${this.a})`}toHSLA(){const e=this.r/255,s=this.g/255,n=this.b/255,i=Math.min(e,s,n),r=Math.max(e,s,n),o=r-i;let l=0,c=0,f=0;return o==0?l=0:r==e?l=(s-n)/o%6:r==s?l=(n-e)/o+2:l=(e-s)/o+4,l=Math.round(l*60),l<0&&(l+=360),f=(r+i)/2,c=o==0?0:o/(1-Math.abs(2*f-1)),c=+(c*100).toFixed(1),f=+(f*100).toFixed(1),{h:l,s:c/100,l:f/100,a:this.a}}setInvert(){return this.r=255-this.r,this.g=255-this.g,this.b=255-this.b,this}invert(){return this.copy().setInvert()}setAlpha(e){return this.a=e,this}alpha(e){return this.copy().setAlpha(e)}setBrightness(e){return this.r=this.r*e,this.g=this.g*e,this.b=this.b*e,this}brightness(e){return this.copy().setBrightness(e)}setAlphaScale(e){return this.a=this.a*e,this}alphaScale(e){return this.copy().setAlphaScale(e)}setScale(e){return this.r*=e,this.g*=e,this.b*=e,this}scale(e){return this.copy().setScale(e)}copy(){return new je(this.r,this.g,this.b,this.a)}static Black(){return new je(0,0,0,1)}};const Xn=Object.freeze(Object.defineProperty({__proto__:null,Color:Qt},Symbol.toStringTag,{value:"Module"}));function ar(t){return ts(t,1)}function fr(t){return ts(t,-1)}function ur(t){return ts(t,2)}function ts(t,e){if(typeof e!="number")throw new Error("rotations parameter must be a number");if(!isFinite(e))throw new Error("rotations parameter must be a finite number");if(e=(4+e%4)%4,e==0)return t.concat();const s=[],n=t[0].length,i=t.length;for(let r=0;r<i;r++){const o=[];let l=null;switch(e){case 2:l=t[i-r-1];break}for(let c=0;c<n;c++)switch(e){case 1:l=t[n-c-1],o[c]=l[r];break;case 2:o[c]=l[n-c-1];break;case 3:l=t[c],o[c]=l[i-r-1];break}s[r]=o}return s}const{createUniqueGuid:hr}=or,N=class N{constructor(e){this._x=void 0,this._y=void 0,this._rotation=0,this._index=void 0;const s=e||{ingame:!1,game:null};typeof s.guid=="string"?this._guid=s.guid:this._guid=hr(),this.game=s.game,this.ingame=s.ingame,s.brickform!=null&&(this.game!=null&&(this.color=this.game.getColors()[0].copy()),this.blocks=s.brickform.concat()),typeof s.x=="number"&&typeof s.y=="number"&&(this.x=s.x,this.y=s.y)}get guid(){return this._guid}get index(){return this._index}set index(e){this._index=e}clone(){const e=new N({guid:this._guid});return e._x=this._x,e._y=this._y,e.moving=this.moving,e.blocks=this.blocks.concat(),e.color=this.color.copy(),e._rotation=this._rotation,e.index=this.index,e}get x(){return this._x}set x(e){this._x=e,this.requestUpdate()}get y(){return this._y}set y(e){this._y=e,this.requestUpdate()}get containerWidth(){return this.blocks[0].length}get containerHeight(){return this.blocks.length}requestUpdate(){this.ingame&&this.game!=null&&(this.game.PENDINGUPDATE=!0)}resetPosition(){this.x=Math.round(this.game.width/2-this.blocks[0].length/2),this.y=Math.round(0-this.blocks.length)}getAbsoluteBlocks(e=null,s=0,n=0){return e==null&&(e=this.blocks),N.calcAbsoluteBlocks(e,this.x,this.y,s,n)}static calcAbsoluteBlocks(e,s,n,i=0,r=0){const o=[],l=s+i,c=n+r;for(const f in e)for(const u in e[f])e[f][u]==1&&o.push({x:l+parseInt(u),y:c+parseInt(f)});return o}checkCollision(e,s,n){for(const i in n)for(const r in n[i].blocks)for(const o in n[i].blocks[r])if(n[i].blocks[r][o]==1){const l=e==n[i].x+parseInt(o),c=s==n[i].y+parseInt(r),f=this!=n[i];if(l&&c&&f)return!1}return!0}getHeight(){return N.calcHeight(this.blocks)}static calcHeight(e){let s=0;for(const n in e)for(const i in e[n])e[n][i]==1&&(s=Math.max(s,parseInt(n)+1));return s}getWidth(){return N.calcWidth(this.blocks)}static calcWidth(e){let s=0,n=1/0;for(const i in e)for(const r in e[i])e[i][r]==1&&(s=Math.max(s,parseInt(r)+2),n=Math.min(n,parseInt(r)+2));return s-n+1}getBlockY(){let e=0,s=0;for(const n in this.blocks){for(const i in this.blocks[n])this.blocks[n][i]===!1&&e++;if(e==this.blocks[0].length)s++;else return s}}getBlockX(){return N.calcBlockX(this.blocks)}static calcBlockX(e){let s=0,n=0;for(let i=0;i<4;i++){s=0;for(const r in e)e[r][i]==0&&s++;if(s==e.length)n++;else return n}}rotate_okay(e,s,n=!1){return N.calcValidPosition(0,0,n,e.x,e.y,s,this.game.bricks,this.game,this.guid)}createRotatedRightBlocks(){return N.rotateRight(this.blocks)}static rotateRight(e){return ar(e)}createRotatedLeftBlocks(){return N.rotateLeft(this.blocks)}static rotateLeft(e){return fr(e)}createRotatedTwiceBlocks(){return N.rotateTwice(this.blocks)}static rotateTwice(e){return ur(e)}createRotatedBlocks(e){return N.rotateBlocks(this.blocks,e)}static rotateBlocks(e,s){return ts(e,s)}canRotate(e=!1,s=null){return this.rotate_okay(this,s||this.createRotatedRightBlocks(),e)}rotate(e=!1){if(this.game.running){const s=this.createRotatedRightBlocks();if(this.canRotate(e,s))this.requestUpdate();else{const n=N.calcBlockX(s),i=N.calcWidth(s);if(N.calcValidPosition_xOutRight(0,!1,this.x,n,i,this.game)){if(N.calcValidPosition_xOutLeft(0,!1,this.x,n))return!1;if(this.x++,this.rotate_okay(this,s))this.requestUpdate();else return this.x--,!1}else if(this.x--,this.rotate_okay(this,s))this.requestUpdate();else return this.x++,!1}this.blocks=s,this._rotation=(this._rotation+1)%4}}get rotation(){return this._rotation}set rotation(e){for(let s=this._rotation;s<=e;s++)this.rotate();this._rotation=e}posInfo(){return[["x",this.x],["y",this.y],["rotation",this._rotation]].map(e=>e.join(":")).join(",")}validatePosition(e=0,s=0,n=!1,i=void 0,r=void 0){return typeof i!="number"&&(i=this.x),typeof r!="number"&&(r=this.y),N.calcValidPosition(e,s,n,i,r,this.blocks,this.game.bricks,this.game,this.guid)}static calcValidPosition_xOutRight(e=0,s,n,i,r,o){if(n+r+i+e>o.width){if(s===!0)throw new Error("The brick would be out of bounds");return!1}return!0}static calcValidPosition_xOutLeft(e=0,s,n,i){if(n+i+e<0){if(s===!0)throw new Error("The brick would be out of bounds");return!1}return!0}static calcValidPosition(e=0,s=0,n,i,r,o,l,c,f){const u=N.calcBlockX(o);if(!N.calcValidPosition_xOutLeft(e,n,i,u))return!1;const d=N.calcWidth(o);if(!N.calcValidPosition_xOutRight(e,n,i,u,d,c))return!1;if(r+N.calcHeight(o)+s>c.height){if(n===!0)throw new Error("The brick would be out of bounds");return!1}if(N.calcWillCollide(e,s,l,o,i,r,f)){if(n===!0)throw new Error("The brick would collide with another brick");return!1}return!0}canMoveLeft(e=!1){if(this.game.running!=!0){if(e===!0)throw new Error("The game is not running");return!1}if(this.moving!=!0){if(e===!0)throw new Error("The brick is not flagged as moving");return!1}return this.validatePosition(-1,0,e)}moveleft(e=!1){if(this.game.running){if(this.ingame===!0&&this.game.runEvent("fx",null,"sound","gamemove"),this.canMoveLeft(e))return this.x--,!0;if(e===!0)throw new Error("Unknown reason");return!1}else if(e===!0)throw new Error("The game is not running");return!1}get innerX(){return this.x-this.getBlockX()}get innerXfar(){return this.innerX+this.innerWidth}get mostLeft(){return N.calcMostLeft(this.blocks)}static calcMostLeft(e){return~~-N.calcBlockX(e)}get mostRight(){return N.calcMostRight(this.game.width,this.blocks)}static calcMostRight(e,s){return~~(e-N.calcWidth(s)-N.calcBlockX(s))}get innerWidth(){return this.getWidth()}willCollide(e,s,n=null,i=null){return i==null&&(i=this.blocks),n==null&&(n=this.game.bricks),N.calcWillCollide(e,s,n,i,this.x,this.y,this.guid)}static calcWillCollide(e,s,n,i,r,o,l){const c=N.calcAbsoluteBlocks(i,r,o,e,s);for(const f of n){if(f.guid===l)continue;const u=f.getAbsoluteBlocks();for(const d of c)for(const v of u)if(v.x===d.x&&v.y===d.y)return!0}return!1}canMoveRight(e=!1){if(this.game.running!=!0){if(e===!0)throw new Error("The game is not running");return!1}if(this.moving!=!0){if(e===!0)throw new Error("The brick is not flagged as moving");return!1}return this.validatePosition(1,0,e)}moveright(e=!1){if(this.game.running){if(this.ingame===!0&&this.game.runEvent("fx",null,"sound","gamemove"),this.canMoveRight(e))return this.x++,!0;if(e===!0)throw new Error("Unknown reason");return!1}else if(e===!0)throw new Error("The game is not running");return!1}canSmashDown(e=!1){if(this.game.running!=!0){if(e===!0)throw new Error("The game is not running");return!1}return!0}smashdown(e=!1){if(this.canSmashDown(e))if(this.ingame===!0&&this.game.runEvent("fx",null,"sound","gamebump"),this.moving=!1,this.y=this.getLowestPosition(),this.requestUpdate(),this.y+this.getBlockY()>=0){const s=this.slice_up();this.game.bricks.splice(this.findMe(),1);for(const n in s)this.game.bricks.push(s[n]);this.game.checkLines(),this.game.addNewBrick(),this.game.HOLDINGCOUNT=0}else this.game.loseView(),this.ingame===!0&&this.game.runEvent("fx",null,"sound","gamelose")}canMoveDown(e=!1){if(this.game.running!=!0){if(e===!0)throw new Error("The game is not running");return!1}if(this.moving!=!0){if(e===!0)throw new Error("The brick is not flagged as moving");return!1}return this.validatePosition(0,1,e)}movedown(e=!1){if(this.game.running&&this.moving)if(this.canMoveDown(e))this.y++;else if(this.moving=!1,this.ingame===!0&&this.game.runEvent("fx",null,"sound","gamebump"),this.y+this.getBlockY()>=0){const s=this.slice_up();this.game.bricks.splice(this.findMe(),1);for(const n in s)this.game.bricks.push(s[n]);this.game.checkLines(),this.game.addNewBrick(),this.game.HOLDINGCOUNT=0}else this.game.loseView(),this.ingame===!0&&this.game.runEvent("fx",null,"sound","gamelose")}getLowestPosition(e=0){return N.calcLowestPosition(this.blocks,e,this.game.height,this.game.bricks,this.x,this.y,this.guid)}static calcLowestPosition(e,s=0,n,i,r,o,l){const c=N.calcHeight(e);let f=0;for(;!(o+f+c>n||N.calcWillCollide(s,f,i,e,r,o,l));)f++;return o+f-1}slice_up(){const e=[],s=this.color;for(const n in this.blocks)for(const i in this.blocks[n])this.blocks[n][i]==!0&&e.push(((r,o,l)=>{const c=new N;return c.moving=!1,c.blocks=[[!0]],c.color=s,c.x=r,c.y=o,c.id=l.id,c.index=l.index,c})(parseInt(i)+this.x,parseInt(n)+this.y,this));return e}findMe(){for(const e in this.game.bricks)if(this.game.bricks[e]==this)return parseInt(e);return Yn("findMe could not find brick in game"),-1}};N.emulate=e=>{const s=new N({ingame:!1,game:null});return s.moving=!1,s.blocks=e,s};let ft=N;function Jn(t){const e=t.getMovingBrick();e?.movedown(),t.runEvent("tick",null)}function dr(t){const e=()=>{t.setup.clickTick!==!0&&Jn(t),setTimeout(e,t.movingSpeed)};e()}class As{constructor(e){this._handlers=[],this._defaultThis=null,this._defaultThis=e}on(e,s){this._handlers.push({name:e,handler:s})}trigger(e,s,...n){s===null&&(s=this._defaultThis);for(const i of this._handlers)i.name===e&&i.handler.apply(s,n)}}const gr=Object.freeze(Object.defineProperty({__proto__:null,EventController:As},Symbol.toStringTag,{value:"Module"}));class pr{constructor({x:e,y:s,brickMatrix:n}){this.x=e,this.y=s,this.brickMatrix=n,this.score=null}}class mr extends pr{constructor(e){super(e);const{rotation:s,needsHolding:n}=e;this.rotation=s,this.needsHolding=n,this.holdingFired=!1}getNextInstruction(){return s=>{if(this.needsHolding===!0&&this.holdingFired!==!0){this.holdingFired=!0,s.holdingShift();return}const n=s.getMovingBrick();if(n.rotation===this.rotation&&n.x===this.x){s.input.smashDown();return}s.moveTowards(this.x,this.rotation)}}}function pn(t,e,s,n){const i=[],r=n;for(let o=0;o<4;o++){const l=ft.rotateBlocks(r.blocks,o),c=ft.calcMostLeft(l),f=ft.calcMostRight(t,l);for(let u=c;u<=f;u++){const d=ft.calcLowestPosition(l,u-r.x,e,s,r.x,r.y,r.guid),v=ne.renderBrickMatrix(t,e,s,[{guid:r.guid,x:u,y:d,blocks:l}]);i.push(new mr({brickMatrix:v,x:u,y:d,rotation:o}))}}return i}function Kt(t,e=!1){const s=function(n,i){return(r,o)=>n(i?o:r)-n(i?r:o)};return{sorters:[s(t,e)],thenBy:function(n,i=!1){return this.sorters.push(s(n,i)),this},compare:function(n,i){for(const r of this.sorters){const o=r(n,i);if(o!==0)return o}return 0},execute(n){return n.concat().sort((i,r)=>this.compare(i,r))}}}function _r(t){let e=0;for(let s=t.length-1;s>=0;s--)t[s].filter(n=>n!==!0).length===0&&e++;return e}function Zn(t){const e=t.length,s=t[0].length,n=[];for(;n.length<s;){const i=[];for(;i.length<e;)i.push(void 0);n.push(i)}for(let i=0;i<e;i++)for(let r=0;r<s;r++)n[r][i]=t[i][r];return n}function br(t){let e=0;t=Zn(t);for(let s=0;s<t.length;s++){const n=t[s].indexOf(!0);if(n!==-1)for(let i=n;i<t[s].length;i++)t[s][i]===!1&&e++}return e}function vr(t){let e=0;t=Zn(t);let s=null;for(let n=0;n<t.length;n++){const i=t[n];s==null&&(s=i.length);const r=i.indexOf(!0);if(r<0)continue;const o=i.length-r;o>e&&(e=o)}return{blocksHeight:e,gameHeight:s}}class Bs{constructor({clearingLines:e,holes:s,height:n}){this.clearingLines=e,this.holes=s,this.height=n}getRatio(e,s){const n=mn(e.clearingLines,s.clearingLines,this.clearingLines),i=mn(e.holes,s.holes,this.holes),r=1-this.height.blocksHeight/this.height.gameHeight;return(n*2+i*3+r)/6}}function wr(t){const e=_r(t),s=br(t),n=vr(t);return new Bs({holes:s,height:n,clearingLines:e})}function mn(t,e,s){return t==e?1:(s-t)/(e-t)}function xr(t){t=t.concat();const e=Kt(i=>i.scores.clearingLines,!1).execute(t)[0].scores.clearingLines,s=Kt(i=>i.scores.height.blocksHeight/i.scores.height.gameHeight,!0).execute(t)[0].scores.height,n=Kt(i=>i.scores.holes,!0).execute(t)[0].scores.holes;return new Bs({clearingLines:e,holes:n,height:s})}function yr(t){t=t.concat();const e=Kt(i=>i.scores.clearingLines,!0).execute(t)[0].scores.clearingLines,s=Kt(i=>i.scores.height.blocksHeight/i.scores.height.gameHeight,!1).execute(t)[0].scores.height,n=Kt(i=>i.scores.holes,!1).execute(t)[0].scores.holes;return new Bs({clearingLines:e,holes:n,height:s})}function Qn(t){const e=xr(t),s=yr(t);return Kt(n=>n.scores.getRatio(e,s),!0).thenBy(n=>n.scores.clearingLines,!0).thenBy(n=>n.scores.holes,!1).thenBy(n=>n.scores.height,!1).execute(t)}const{Color:kr}=Xn;function Ds(t,e){const n={bricks:t.bricks.concat().map(o=>o.clone())};t.HOLDING!=null&&(n.holding=t.HOLDING.clone());const i=Object.assign({},t.setup,e,{brickforms:t.setup.brickforms,width:t.setup.width,height:t.setup.height,sequence:t.setup.sequence}),r=new ne(i,n);return r.brickforms=t.brickforms,r.HOLDINGCOUNT=t.HOLDINGCOUNT,r}function Hs(t,e){let s=[];for(const n of pn(t.width,t.height,t.bricks,t.getMovingBrick()))s.push(n);if(t.canUseHolding){const n=Ds(t,e);n.holdingShift();for(const i of pn(n.width,n.height,n.bricks,n.getMovingBrick()))i.needsHolding=!0,s.push(i)}for(const n of s)n.scores=wr(n.brickMatrix);return s=Qn(s),s}class Sr{constructor(){this._movements=[],this._cancelled=!1,this._mode="assist",this._simulation=[],this._starttime=0,this._eventController=new As(this)}attach(e){this._game=e,this._game.addEvent("current-brick-change",()=>{this.getNewMove()})}drawMovements(){if(this._movements.length>0){const e=this._movements[0].brick,s=new kr(255,255,255,.2);setTimeout(()=>this._game.drawBrick(e,s),50)}}cancel(){this._cancelled=!0}get isCancelled(){return this._cancelled}start(){if(this._starttime=new Date().getTime(),this._game.setup.clickTick===!0)this._game.ghostDrawing=!1,this._game.addEvent("tick",()=>{this.isCancelled===!1&&(this.tick(),this.drawMovements())});else{const e=()=>{this.isCancelled===!1&&(this.tick(),setTimeout(e,this.getTimeout()))};setTimeout(e,0)}this._game.addEvent("lose",()=>{this.cancel()})}getTimeout(){return 100}setMode(e){this._mode=e}setSimulation(e){this._simulation=JSON.parse(JSON.stringify(e))}tick(){if(this._game.running===!0)if(this._mode==="assist")this.assistTick();else if(this._mode==="playback")this.playbackTick();else throw new Error("Mode is not supported: "+this._mode)}getNewMove(){this._movements=Hs(this._game,{nextBrick:new Fs(0)}),this._eventController.trigger("update-movements",null,this._movements.concat())}addEvent(e,s){this._eventController.on(e,s)}get targetMovement(){if(!(this._movements.length<1))return this._movements[0]}assistTick(){const e=this.targetMovement;if(e==null)return;const s=e.getNextInstruction();if(!(typeof s>"u"))if(typeof s=="function")s(this._game)instanceof Promise&&Yn("TODO: async handle / promise await missing");else throw new Error("Unknown instruction type")}playbackTick(){throw new Error("Not implemented")}get movements(){return this._movements}}function Cr(t,e=!0){const s=new Sr;return s.attach(t),Array.isArray(t.setup.simulation)&&(s.setMode("playback"),s.setSimulation(t.setup.simulation)),e===!0&&s.start(),s}const Tr=Object.freeze(Object.defineProperty({__proto__:null,attachSimulator:Cr,cloneGame:Ds,getPossibleMoves:Hs},Symbol.toStringTag,{value:"Module"}));let Ke=class{constructor(){}nextBrick(e){const s=e.nextRandom;let n=s;for(;n===s;)n=Math.round(Math.random()*(e.brickforms.length-1));return n}};class Fs extends Ke{constructor(e){super(),this._v=e}nextBrick(){return this._v}}class ti extends Ke{constructor(e=null){super(),this._fallback=e||new Ke}nextBrick(e){const s=e.bricks.concat().sort((r,o)=>o.id-r.id)[0],n=[];for(let r=0;r<e.brickforms.length;r++){if(s!=null&&r==s.index)continue;const o=this.getPossibleMovesForType(e,r)[0];n.push({i:r,move:o})}return Qn(n)[0].move.brick.index}getPossibleMovesForType(e,s){const n={nextBrick:new Fs(s)},i=Ds(e,n);return i.addNewBrick(),Hs(i)}}const Er=Object.freeze(Object.defineProperty({__proto__:null,EasyNextBrick:ti,NextBrick:Ke,StaticNextBrick:Fs},Symbol.toStringTag,{value:"Module"}));function Mr(){throw new Error("Not implemented")}function Or(){throw new Error("Not implemented")}const Ir=Object.freeze(Object.defineProperty({__proto__:null,receiver:Or,transmitter:Mr},Symbol.toStringTag,{value:"Module"})),Gs={AFTER_INIT:"after-init"};class ei{constructor(){this._addons=[],this._typesLoaded=[]}add(e,s,n){let i;switch(n){case Gs.AFTER_INIT:i={initType:n,object:e,callback:s,loaded:!1};break;default:throw new Error("Unknown INIT_TYPE: "+n)}this._addons.push(i),this.typeIsAlreadyLoaded(n)&&this.loadAddon(i)}typeIsAlreadyLoaded(e){return this._typesLoaded.indexOf(e)!==-1}loadByType(e){if(this.typeIsAlreadyLoaded(e))throw new Error("Type "+e+" has already been loaded");this._typesLoaded.push(e);for(const s of this._addons)s.initType===e&&s.loaded===!1&&this.loadAddon(s)}loadAddon(e){if(e.loaded!==!1)throw new Error("Addon is already loaded");e.loaded=!0,e.callback(e.object)}}const Pr=Object.freeze(Object.defineProperty({__proto__:null,AddonContainer:ei,INIT_TYPES:Gs},Symbol.toStringTag,{value:"Module"}));class Rr{constructor(e){this._game=e}smashDown(){this._game.running===!0&&this._game.getMovingBrick().smashdown(!0)}left(){this._game.running===!0&&this._game.getMovingBrick().moveleft()}rotate(){this._game.running===!0&&this._game.getMovingBrick().rotate()}right(){this._game.running===!0&&this._game.getMovingBrick().moveright()}down(){this._game.running===!0&&this._game.getMovingBrick().movedown()}hold(){this._game.running===!0&&this._game.holdingShift()}}const{attachSimulator:Nr}=Tr,{Color:Lt}=Xn,{transmitter:Lr}=Ir,{NextBrick:Ar}=Er;class ne{constructor(e,s=null,n=null){if(this._SETTING_GHOST=!0,this._HOLDING=null,this._PENDINGUPDATE=!1,this._HOLDINGCOUNT=0,this._currentSequence=-1,this._bricks=[],this._eventController=new As(this),this._addons=new ei,this._simulator=null,this._RUNNING=!0,this._socket=null,this.socket=null,this._logEntries=[],this._score=0,this._setup=e,this._nextRandomGenerator=e.nextBrick||new Ar,this._graphicEngine=n,this._graphicEngine!=null&&this._graphicEngine.setGame(this),e.logger===!0&&this.addLogEntry({name:"gameInit"}),this._width=e.width,this._height=e.height,this._gameGuid=Math.round(Math.random()*1e16),this._gridColor=new Lt(0,255,0,.5),s!=null){if(Array.isArray(s.bricks)){this._bricks=s.bricks.concat();for(const l of this._bricks)l.game=this}s.holding!=null&&(this._HOLDING=s.holding,this._HOLDING.game=this)}this.brickforms=e.brickforms;const i=[new Lt(255,0,0,1),new Lt(0,255,0,1),new Lt(0,0,255,1),new Lt(255,255,0,1),new Lt(0,255,255,1),new Lt(255,0,255,1),new Lt(0,128,128,1)];this.setNextRandom();const r=this;this.getColors=()=>i;function o(l){if(this._RUNNING){this.score++,this.runEvent("fx",null,"sound","gamerow");const c=r.bricks;(f=>{const u=[];let d=0;for(d=0;d<=this.width;d++)for(const v in c)for(const S in c[v].blocks)for(const O in c[v].blocks[S])if(c[v].blocks[S][O]===!0){const R=f==c[v].y+parseInt(S),Y=c[v].moving==!1;R&&Y&&c.splice(parseInt(v),1)}return u})(l),(f=>{const u=[];for(const d in c)for(const v in c[d].blocks)for(const S in c[d].blocks[v])if(c[d].blocks[v][S]===!0){const O=f>c[d].y+parseInt(v),R=c[d].moving==!1;O&&R&&c[d].y++}return u})(l)}}this.checkLines=()=>{if(this._RUNNING){let l;for(let c=this.height;c>1;c--){let f=0;for(l=0;l<=this.width-1;l++)this.checkXY(l,c)&&f++;f==this.width&&o.call(this,c++)}this.PENDINGUPDATE=!0}},this.init=function(){if(this._RUNNING=!0,this.score=0,this.HOLDINGCOUNT=0,this.setup.simulator===!0&&(this._simulator=Nr(this)),this.addNewBrick(),dr(this),this.setup.logger===!0){const l=Lr();setInterval(()=>{if(this._socket!=null&&this._socket.readyState===this._socket.OPEN){let c;for(;(c=this._logEntries.splice(0,1)).length>0;)for(const f of c)this._socket.send(JSON.stringify(f))}}),this._socket=l}this._graphicEngine!=null&&(this._graphicEngine.initializeInput(),this._graphicEngine.initRender()),this._addons.loadByType(Gs.AFTER_INIT)},this.input=new Rr(this)}get gridColor(){return this._gridColor}registerAddon(e,s,n){this._addons.add(e,i=>s(i,this),n)}get simulator(){return this._simulator}get graphicsEngine(){return this._graphicEngine}get score(){return this._score}set score(e){this._score=e,this._eventController.trigger("update-score",null,e)}get colors(){return this.getColors()}get holding(){return this._HOLDING}set holding(e){this._HOLDING=e}renderBrickMatrix(e=[]){return ne.renderBrickMatrix(this.width,this.height,this.bricks,e)}static renderBrickMatrix(e,s,n,i=[]){i=i.concat();const r=[];for(let o=0;o<s;o++){r.push([]);for(let l=0;l<e;l++)r[r.length-1].push(!1)}for(const o of n){let l=o.blocks,c=o.x,f=o.y;const u=i.filter(d=>d.guid==o.guid);if(u.length>1)throw new Error("There were multiple modifications found for a single brick!");if(u.length==1){const d=u[0];typeof d.x=="number"&&(c=d.x),typeof d.y=="number"&&(f=d.y),typeof d.blocks<"u"&&(l=d.blocks),i.splice(i.indexOf(d),1)}for(const d in l)for(const v in l[d])if(l[d][v]===!0){const S=c+parseInt(v),O=f+parseInt(d);if(O<0||O>s)continue;r[O][S]=!0}}if(i.length>0)throw new Error(`There were ${i.length} modifications which is not used`);return r}get movingSpeed(){return 1e3}get canUseHolding(){return this.HOLDINGCOUNT<1}getBrickId(){return(this.bricks.length>0?this.bricks.map(s=>s.id).sort((s,n)=>n-s)[0]:0)+1}addNewBrick(e=-1){const s=new ft({game:this,ingame:!0});s.id=this.getBrickId();const n=this.brickforms,i=this.nextRandom;s.color=this.getColors()[i].copy(),s.blocks=n[i].concat(),s.index=i,s.moving=!0,s.resetPosition(),this.logEvent({name:"newBrick",blocks:s.blocks}),this.setNextRandom(),e===-1?this.bricks.push(s):this.bricks[e]=s,this._eventController.trigger("current-brick-change",null)}logEvent(e){if(this.setup.logger===!0){const s=this._gameGuid,i={action:"log",time:new Date().getTime(),data:Object.assign({gameGuid:s},e)};this.addLogEntry(i)}}addLogEntry(e){this._logEntries.push(e)}holdingShift(){if(this.canUseHolding)if(this._HOLDING==null)this._HOLDING=this.getMovingBrick(),this.addNewBrick(this.getMovingBrick().findMe()),this.HOLDINGCOUNT++;else{const e=this._HOLDING;this._HOLDING=this.getMovingBrick(),e.resetPosition(),this.bricks[this.getMovingBrick().findMe()]=e,this.HOLDINGCOUNT++}}getMovingBrick(){for(const e in this.bricks)if(this.bricks[e].moving)return this.bricks[e]}clone(){return new ne}action_smashdown(){this.input.smashDown()}action_moveleft(){this.input.left()}action_rotate(){this.input.rotate()}action_moveright(){this.input.right()}action_movedown(){this.input.down()}get ghostDrawing(){return this._SETTING_GHOST}set ghostDrawing(e){this._SETTING_GHOST=e}get brickforms(){return this._brickforms}set brickforms(e){this._brickforms=e}get HOLDING(){return this._HOLDING}get HOLDINGCOUNT(){return this._HOLDINGCOUNT}set HOLDINGCOUNT(e){this._HOLDINGCOUNT=e}get PENDINGUPDATE(){return this._PENDINGUPDATE}set PENDINGUPDATE(e){this._PENDINGUPDATE=e}get nextRandom(){return this._nextRandom}set nextRandom(e){this._nextRandom=e}setNextRandom(){Array.isArray(this.setup.sequence)?(this._currentSequence=(this._currentSequence+1)%this.setup.sequence.length,this.nextRandom=this.setup.sequence[this._currentSequence]):this.nextRandom=this._nextRandomGenerator.nextBrick(this)}get running(){return this._RUNNING}get width(){return this._width}get height(){return this._height}get bricks(){return this._bricks}set bricks(e){e==""&&typeof[]=="object"&&(this.score=0,this.HOLDINGCOUNT=0,this._HOLDING=null,this._bricks=[])}checkXY(e,s){const n=this.bricks;for(const i of n)for(let r=0,o=i.blocks.length;r<o;r++)for(let l=0,c=i.blocks[r].length;l<c;l++)if(i.blocks[r][l]===!0){const f=e==i.x+~~l,u=s==i.y+~~r,d=i.moving==!1;if(f&&u&&d)return!0}return!1}get setup(){return this._setup}moveTowards(e,s=null){const n=this.getMovingBrick();if(typeof s=="number"&&s!=this.getMovingBrick().rotation){cr("rotating from "+this.getMovingBrick().rotation+" to "+s),this.action_rotate();return}n.x>e?this.action_moveleft():n.x<e?this.action_moveright():this.action_smashdown()}addEvent(e,s){this._eventController.on(e,s)}runEvent(e,s,...n){this._eventController.trigger.apply(this._eventController,[e,s].concat(n))}loseView(){this.runEvent("fx",null,"sound","gamelose"),this._RUNNING=!1,this._eventController.trigger("lose",null),this.setup.simulator===!0&&setTimeout(()=>window.location.reload(),2e3)}}function le(t){return typeof t=="number"?t>=1:t.map(e=>le(e))}class Ie{constructor(e,s,n,i={}){this._sequence=null,this._nextBrick=null,this.logger=!1,this._brickforms=e,this._width=s,this._height=n,this._graphics=i.graphics,this._nextBrick=i.nextBrick}get nextBrick(){return this._nextBrick}get brickforms(){return this._brickforms}get width(){return this._width}get height(){return this._height}get sequence(){return this._sequence}get graphics(){return this._graphics}setSequence(){this._sequence=this.brickforms.concat().map((e,s)=>s)}}function Br(){const t=[[[0,1,0],[0,1,0],[0,1,1]],[[0,1,0],[0,1,0],[1,1,0]],[[0,1,1],[1,1,0],[0,0,0]],[[1,1,0],[0,1,1],[0,0,0]],[[0,1,0],[1,1,1],[0,0,0]],[[1,1],[1,1]],[[0,1,0,0],[0,1,0,0],[0,1,0,0],[0,1,0,0]]];return new Ie(le(t),10,20)}function Dr(){const t=[[[0,1,0],[0,1,0],[0,1,1]],[[0,1,0],[0,1,0],[1,1,0]],[[0,1,0,0],[0,1,0,0],[0,1,0,0],[0,1,0,0]]],e=new Ie(le(t),10,20);return e.setSequence(),e}function Hr(){const t=[[[1,1],[1,1]]];return new Ie(le(t),10,20)}function Fr(){const t=[[[0,1,0,0],[0,1,0,0],[0,1,0,0],[0,1,0,0]]];return new Ie(le(t),10,20)}function Gr(){const t=[[[0,1,1],[1,1,0],[0,0,0]]];return new Ie(le(t),10,20)}class Ur{constructor(){this.setup=null,this.next=null,this.simulate=null,this.clickTick=null,this.logger=null,this.view=null,this.debug=null,this.sound=null}}function jr(t,e){let s;switch(t.setup){case"ez":s=Hr();break;case"ez2":s=Dr();break;case"long":s=Fr();break;case"shit":s=Gr();break;default:s=Br();break}switch(t.next){case"ez":s.nextBrick=new ti;break}switch(t.simulate){case!0:s.simulator=!0;break;case"assistbug":{s.simulator=!0,s.simulation=[];let i=0;for(let r=0;r<5;r++){for(let o=0;o<4;o++)s.simulation.push({type:"nextRandom",val:0,time:i+=100}),s.simulation.push({type:"nextRandom",val:0,time:i+=100});s.simulation.push({type:"nextRandom",val:0,time:i+=100})}}break}t.clickTick===!0&&(s.clickTick=!0),t.logger==="1"&&(s.logger=!0),t.view==="lite"&&window.document.body.classList.add("lite-view");const n=new ne(s,null,e);return n.init(),n}class $r{constructor(){}initialize(){throw new Error("Missing implementation")}initializeInput(){}initRender(){throw new Error("Missing implementation")}clear(){throw new Error("Missing implementation")}setGame(e){this._game=e}get game(){return this._game}}const Vr=Object.freeze(Object.defineProperty({__proto__:null,addon:Pr,event:gr},Symbol.toStringTag,{value:"Module"}));class si{constructor(e){this._gradient=e}addColor(e,s){this._gradient.addColorStop(e,s.toRGBAString())}compile(){return this._gradient}}class Wr extends si{constructor(e,...s){const n=s.map((u,d)=>({x:u,i:d})).filter(u=>typeof u.x!="number");if(n.length>0)throw new Error("Args at "+n.map(u=>u.i).join(", ")+" is not numbers");const[i,r,o,l,c,f]=s;super(e.createRadialGradient(i,r,o,l,c,f))}}class He extends si{constructor(e,...s){const n=s.map((c,f)=>({x:c,i:f})).filter(c=>typeof c.x!="number");if(n.length>0)throw new Error("Args at "+n.map(c=>c.i).join(", ")+" is not numbers");const[i,r,o,l]=s;super(e.createLinearGradient(i,r,o,l))}}const _n=[];class qr{constructor(e,s,n,i,r){this._color=e,this._width=s,this._height=n,this._countX=i,this._countY=r}get key(){return"C:"+this._color.toRGBAString()+"W:"+this._width+"H:"+this._height+"X:"+this._countX+"Y:"+this._countY}matches(e){return this.key===e.key}}function Kr(t,e,s,n,i){const r=new qr(t,e,s,n,i),o=_n.filter(c=>r.matches(c.key));if(o.length>0)return o[0].data;const l={key:r,data:zr(t,e,s,n,i)};return _n.push(l),l.data}function zr(t,e,s,n,i){const r=document.querySelector("canvas");r.width=e*n,r.height=s*i;const o=r.getContext("2d");o.strokeStyle=t.toRGBAString(),o.lineWidth=2;for(let l=0;l<=n;l++)o.beginPath(),o.moveTo(l*e,0),o.lineTo(l*e,r.height),o.closePath(),o.stroke();for(let l=0;l<=i;l++)o.beginPath(),o.moveTo(0,l*s),o.lineTo(r.width,l*s),o.closePath(),o.stroke();return o.getImageData(0,0,r.width,r.height)}function us(t,e,s,n,i,r){const o=Kr(e,s,n,i,r);t.putImageData(o,0,0)}var bn={development:!1,production:!0,mode:"production",browser:!0,node:!1};/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Us(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const j={},_e=[],xt=()=>{},ni=()=>!1,es=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),js=t=>t.startsWith("onUpdate:"),st=Object.assign,$s=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},Yr=Object.prototype.hasOwnProperty,B=(t,e)=>Yr.call(t,e),I=Array.isArray,be=t=>ss(t)==="[object Map]",Xr=t=>ss(t)==="[object Set]",P=t=>typeof t=="function",z=t=>typeof t=="string",ce=t=>typeof t=="symbol",q=t=>t!==null&&typeof t=="object",ii=t=>(q(t)||P(t))&&P(t.then)&&P(t.catch),Jr=Object.prototype.toString,ss=t=>Jr.call(t),Zr=t=>ss(t).slice(8,-1),Qr=t=>ss(t)==="[object Object]",Vs=t=>z(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ve=Us(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ns=t=>{const e=Object.create(null);return(s=>e[s]||(e[s]=t(s)))},to=/-\w/g,Gt=ns(t=>t.replace(to,e=>e.slice(1).toUpperCase())),eo=/\B([A-Z])/g,Xt=ns(t=>t.replace(eo,"-$1").toLowerCase()),ri=ns(t=>t.charAt(0).toUpperCase()+t.slice(1)),hs=ns(t=>t?`on${ri(t)}`:""),zt=(t,e)=>!Object.is(t,e),ds=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},oi=(t,e,s,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:s})},so=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let vn;const is=()=>vn||(vn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof bn<"u"?bn:{});function Ws(t){if(I(t)){const e={};for(let s=0;s<t.length;s++){const n=t[s],i=z(n)?oo(n):Ws(n);if(i)for(const r in i)e[r]=i[r]}return e}else if(z(t)||q(t))return t}const no=/;(?![^(]*\))/g,io=/:([^]+)/,ro=/\/\*[^]*?\*\//g;function oo(t){const e={};return t.replace(ro,"").split(no).forEach(s=>{if(s){const n=s.split(io);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function qs(t){let e="";if(z(t))e=t;else if(I(t))for(let s=0;s<t.length;s++){const n=qs(t[s]);n&&(e+=n+" ")}else if(q(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const lo="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",co=Us(lo);function li(t){return!!t||t===""}/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let rt;class ao{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=rt,!e&&rt&&(this.index=(rt.scopes||(rt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=rt;try{return rt=this,e()}finally{rt=s}}}on(){++this._on===1&&(this.prevScope=rt,rt=this)}off(){this._on>0&&--this._on===0&&(rt=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function fo(){return rt}let U;const gs=new WeakSet;class ci{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,rt&&rt.active&&rt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,gs.has(this)&&(gs.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||fi(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,wn(this),ui(this);const e=U,s=ut;U=this,ut=!0;try{return this.fn()}finally{hi(this),U=e,ut=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Ys(e);this.deps=this.depsTail=void 0,wn(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?gs.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ks(this)&&this.run()}get dirty(){return ks(this)}}let ai=0,we,xe;function fi(t,e=!1){if(t.flags|=8,e){t.next=xe,xe=t;return}t.next=we,we=t}function Ks(){ai++}function zs(){if(--ai>0)return;if(xe){let e=xe;for(xe=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;we;){let e=we;for(we=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=s}}if(t)throw t}function ui(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function hi(t){let e,s=t.depsTail,n=s;for(;n;){const i=n.prevDep;n.version===-1?(n===s&&(s=i),Ys(n),uo(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}t.deps=e,t.depsTail=s}function ks(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(di(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function di(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Te)||(t.globalVersion=Te,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!ks(t))))return;t.flags|=2;const e=t.dep,s=U,n=ut;U=t,ut=!0;try{ui(t);const i=t.fn(t._value);(e.version===0||zt(i,t._value))&&(t.flags|=128,t._value=i,e.version++)}catch(i){throw e.version++,i}finally{U=s,ut=n,hi(t),t.flags&=-3}}function Ys(t,e=!1){const{dep:s,prevSub:n,nextSub:i}=t;if(n&&(n.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=n,t.nextSub=void 0),s.subs===t&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let r=s.computed.deps;r;r=r.nextDep)Ys(r,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function uo(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let ut=!0;const gi=[];function Ot(){gi.push(ut),ut=!1}function It(){const t=gi.pop();ut=t===void 0?!0:t}function wn(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=U;U=void 0;try{e()}finally{U=s}}}let Te=0;class ho{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class pi{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!U||!ut||U===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==U)s=this.activeLink=new ho(U,this),U.deps?(s.prevDep=U.depsTail,U.depsTail.nextDep=s,U.depsTail=s):U.deps=U.depsTail=s,mi(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=U.depsTail,s.nextDep=void 0,U.depsTail.nextDep=s,U.depsTail=s,U.deps===s&&(U.deps=n)}return s}trigger(e){this.version++,Te++,this.notify(e)}notify(e){Ks();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{zs()}}}function mi(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)mi(n)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const Ss=new WeakMap,Yt=Symbol(""),Cs=Symbol(""),Ee=Symbol("");function X(t,e,s){if(ut&&U){let n=Ss.get(t);n||Ss.set(t,n=new Map);let i=n.get(s);i||(n.set(s,i=new pi),i.map=n,i.key=s),i.track()}}function Mt(t,e,s,n,i,r){const o=Ss.get(t);if(!o){Te++;return}const l=c=>{c&&c.trigger()};if(Ks(),e==="clear")o.forEach(l);else{const c=I(t),f=c&&Vs(s);if(c&&s==="length"){const u=Number(n);o.forEach((d,v)=>{(v==="length"||v===Ee||!ce(v)&&v>=u)&&l(d)})}else switch((s!==void 0||o.has(void 0))&&l(o.get(s)),f&&l(o.get(Ee)),e){case"add":c?f&&l(o.get("length")):(l(o.get(Yt)),be(t)&&l(o.get(Cs)));break;case"delete":c||(l(o.get(Yt)),be(t)&&l(o.get(Cs)));break;case"set":be(t)&&l(o.get(Yt));break}}zs()}function Jt(t){const e=H(t);return e===t?e:(X(e,"iterate",Ee),yt(t)?e:e.map(at))}function Xs(t){return X(t=H(t),"iterate",Ee),t}const go={__proto__:null,[Symbol.iterator](){return ps(this,Symbol.iterator,at)},concat(...t){return Jt(this).concat(...t.map(e=>I(e)?Jt(e):e))},entries(){return ps(this,"entries",t=>(t[1]=at(t[1]),t))},every(t,e){return St(this,"every",t,e,void 0,arguments)},filter(t,e){return St(this,"filter",t,e,s=>s.map(at),arguments)},find(t,e){return St(this,"find",t,e,at,arguments)},findIndex(t,e){return St(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return St(this,"findLast",t,e,at,arguments)},findLastIndex(t,e){return St(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return St(this,"forEach",t,e,void 0,arguments)},includes(...t){return ms(this,"includes",t)},indexOf(...t){return ms(this,"indexOf",t)},join(t){return Jt(this).join(t)},lastIndexOf(...t){return ms(this,"lastIndexOf",t)},map(t,e){return St(this,"map",t,e,void 0,arguments)},pop(){return de(this,"pop")},push(...t){return de(this,"push",t)},reduce(t,...e){return xn(this,"reduce",t,e)},reduceRight(t,...e){return xn(this,"reduceRight",t,e)},shift(){return de(this,"shift")},some(t,e){return St(this,"some",t,e,void 0,arguments)},splice(...t){return de(this,"splice",t)},toReversed(){return Jt(this).toReversed()},toSorted(t){return Jt(this).toSorted(t)},toSpliced(...t){return Jt(this).toSpliced(...t)},unshift(...t){return de(this,"unshift",t)},values(){return ps(this,"values",at)}};function ps(t,e,s){const n=Xs(t),i=n[e]();return n!==t&&!yt(t)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.done||(r.value=s(r.value)),r}),i}const po=Array.prototype;function St(t,e,s,n,i,r){const o=Xs(t),l=o!==t&&!yt(t),c=o[e];if(c!==po[e]){const d=c.apply(t,r);return l?at(d):d}let f=s;o!==t&&(l?f=function(d,v){return s.call(this,at(d),v,t)}:s.length>2&&(f=function(d,v){return s.call(this,d,v,t)}));const u=c.call(o,f,n);return l&&i?i(u):u}function xn(t,e,s,n){const i=Xs(t);let r=s;return i!==t&&(yt(t)?s.length>3&&(r=function(o,l,c){return s.call(this,o,l,c,t)}):r=function(o,l,c){return s.call(this,o,at(l),c,t)}),i[e](r,...n)}function ms(t,e,s){const n=H(t);X(n,"iterate",Ee);const i=n[e](...s);return(i===-1||i===!1)&&tn(s[0])?(s[0]=H(s[0]),n[e](...s)):i}function de(t,e,s=[]){Ot(),Ks();const n=H(t)[e].apply(t,s);return zs(),It(),n}const mo=Us("__proto__,__v_isRef,__isVue"),_i=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ce));function _o(t){ce(t)||(t=String(t));const e=H(this);return X(e,"has",t),e.hasOwnProperty(t)}class bi{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,n){if(s==="__v_skip")return e.__v_skip;const i=this._isReadonly,r=this._isShallow;if(s==="__v_isReactive")return!i;if(s==="__v_isReadonly")return i;if(s==="__v_isShallow")return r;if(s==="__v_raw")return n===(i?r?Eo:yi:r?xi:wi).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=I(e);if(!i){let c;if(o&&(c=go[s]))return c;if(s==="hasOwnProperty")return _o}const l=Reflect.get(e,s,et(e)?e:n);if((ce(s)?_i.has(s):mo(s))||(i||X(e,"get",s),r))return l;if(et(l)){const c=o&&Vs(s)?l:l.value;return i&&q(c)?Es(c):c}return q(l)?i?Es(l):Zs(l):l}}class vi extends bi{constructor(e=!1){super(!1,e)}set(e,s,n,i){let r=e[s];if(!this._isShallow){const c=ie(r);if(!yt(n)&&!ie(n)&&(r=H(r),n=H(n)),!I(e)&&et(r)&&!et(n))return c||(r.value=n),!0}const o=I(e)&&Vs(s)?Number(s)<e.length:B(e,s),l=Reflect.set(e,s,n,et(e)?e:i);return e===H(i)&&(o?zt(n,r)&&Mt(e,"set",s,n):Mt(e,"add",s,n)),l}deleteProperty(e,s){const n=B(e,s);e[s];const i=Reflect.deleteProperty(e,s);return i&&n&&Mt(e,"delete",s,void 0),i}has(e,s){const n=Reflect.has(e,s);return(!ce(s)||!_i.has(s))&&X(e,"has",s),n}ownKeys(e){return X(e,"iterate",I(e)?"length":Yt),Reflect.ownKeys(e)}}class bo extends bi{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const vo=new vi,wo=new bo,xo=new vi(!0);const Ts=t=>t,Fe=t=>Reflect.getPrototypeOf(t);function yo(t,e,s){return function(...n){const i=this.__v_raw,r=H(i),o=be(r),l=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,f=i[t](...n),u=s?Ts:e?Ms:at;return!e&&X(r,"iterate",c?Cs:Yt),{next(){const{value:d,done:v}=f.next();return v?{value:d,done:v}:{value:l?[u(d[0]),u(d[1])]:u(d),done:v}},[Symbol.iterator](){return this}}}}function Ge(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function ko(t,e){const s={get(i){const r=this.__v_raw,o=H(r),l=H(i);t||(zt(i,l)&&X(o,"get",i),X(o,"get",l));const{has:c}=Fe(o),f=e?Ts:t?Ms:at;if(c.call(o,i))return f(r.get(i));if(c.call(o,l))return f(r.get(l));r!==o&&r.get(i)},get size(){const i=this.__v_raw;return!t&&X(H(i),"iterate",Yt),i.size},has(i){const r=this.__v_raw,o=H(r),l=H(i);return t||(zt(i,l)&&X(o,"has",i),X(o,"has",l)),i===l?r.has(i):r.has(i)||r.has(l)},forEach(i,r){const o=this,l=o.__v_raw,c=H(l),f=e?Ts:t?Ms:at;return!t&&X(c,"iterate",Yt),l.forEach((u,d)=>i.call(r,f(u),f(d),o))}};return st(s,t?{add:Ge("add"),set:Ge("set"),delete:Ge("delete"),clear:Ge("clear")}:{add(i){!e&&!yt(i)&&!ie(i)&&(i=H(i));const r=H(this);return Fe(r).has.call(r,i)||(r.add(i),Mt(r,"add",i,i)),this},set(i,r){!e&&!yt(r)&&!ie(r)&&(r=H(r));const o=H(this),{has:l,get:c}=Fe(o);let f=l.call(o,i);f||(i=H(i),f=l.call(o,i));const u=c.call(o,i);return o.set(i,r),f?zt(r,u)&&Mt(o,"set",i,r):Mt(o,"add",i,r),this},delete(i){const r=H(this),{has:o,get:l}=Fe(r);let c=o.call(r,i);c||(i=H(i),c=o.call(r,i)),l&&l.call(r,i);const f=r.delete(i);return c&&Mt(r,"delete",i,void 0),f},clear(){const i=H(this),r=i.size!==0,o=i.clear();return r&&Mt(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{s[i]=yo(i,t,e)}),s}function Js(t,e){const s=ko(t,e);return(n,i,r)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?n:Reflect.get(B(s,i)&&i in n?s:n,i,r)}const So={get:Js(!1,!1)},Co={get:Js(!1,!0)},To={get:Js(!0,!1)};const wi=new WeakMap,xi=new WeakMap,yi=new WeakMap,Eo=new WeakMap;function Mo(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Oo(t){return t.__v_skip||!Object.isExtensible(t)?0:Mo(Zr(t))}function Zs(t){return ie(t)?t:Qs(t,!1,vo,So,wi)}function Io(t){return Qs(t,!1,xo,Co,xi)}function Es(t){return Qs(t,!0,wo,To,yi)}function Qs(t,e,s,n,i){if(!q(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=Oo(t);if(r===0)return t;const o=i.get(t);if(o)return o;const l=new Proxy(t,r===2?n:s);return i.set(t,l),l}function ye(t){return ie(t)?ye(t.__v_raw):!!(t&&t.__v_isReactive)}function ie(t){return!!(t&&t.__v_isReadonly)}function yt(t){return!!(t&&t.__v_isShallow)}function tn(t){return t?!!t.__v_raw:!1}function H(t){const e=t&&t.__v_raw;return e?H(e):t}function Po(t){return!B(t,"__v_skip")&&Object.isExtensible(t)&&oi(t,"__v_skip",!0),t}const at=t=>q(t)?Zs(t):t,Ms=t=>q(t)?Es(t):t;function et(t){return t?t.__v_isRef===!0:!1}function Ro(t){return et(t)?t.value:t}const No={get:(t,e,s)=>e==="__v_raw"?t:Ro(Reflect.get(t,e,s)),set:(t,e,s,n)=>{const i=t[e];return et(i)&&!et(s)?(i.value=s,!0):Reflect.set(t,e,s,n)}};function ki(t){return ye(t)?t:new Proxy(t,No)}class Lo{constructor(e,s,n){this.fn=e,this.setter=s,this._value=void 0,this.dep=new pi(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Te-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&U!==this)return fi(this,!0),!0}get value(){const e=this.dep.track();return di(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Ao(t,e,s=!1){let n,i;return P(t)?n=t:(n=t.get,i=t.set),new Lo(n,i,s)}const Ue={},ze=new WeakMap;let qt;function Bo(t,e=!1,s=qt){if(s){let n=ze.get(s);n||ze.set(s,n=[]),n.push(t)}}function Do(t,e,s=j){const{immediate:n,deep:i,once:r,scheduler:o,augmentJob:l,call:c}=s,f=E=>i?E:yt(E)||i===!1||i===0?Dt(E,1):Dt(E);let u,d,v,S,O=!1,R=!1;if(et(t)?(d=()=>t.value,O=yt(t)):ye(t)?(d=()=>f(t),O=!0):I(t)?(R=!0,O=t.some(E=>ye(E)||yt(E)),d=()=>t.map(E=>{if(et(E))return E.value;if(ye(E))return f(E);if(P(E))return c?c(E,2):E()})):P(t)?e?d=c?()=>c(t,2):t:d=()=>{if(v){Ot();try{v()}finally{It()}}const E=qt;qt=u;try{return c?c(t,3,[S]):t(S)}finally{qt=E}}:d=xt,e&&i){const E=d,K=i===!0?1/0:i;d=()=>Dt(E(),K)}const Y=fo(),A=()=>{u.stop(),Y&&Y.active&&$s(Y.effects,u)};if(r&&e){const E=e;e=(...K)=>{E(...K),A()}}let $=R?new Array(t.length).fill(Ue):Ue;const W=E=>{if(!(!(u.flags&1)||!u.dirty&&!E))if(e){const K=u.run();if(i||O||(R?K.some((Rt,ht)=>zt(Rt,$[ht])):zt(K,$))){v&&v();const Rt=qt;qt=u;try{const ht=[K,$===Ue?void 0:R&&$[0]===Ue?[]:$,S];$=K,c?c(e,3,ht):e(...ht)}finally{qt=Rt}}}else u.run()};return l&&l(W),u=new ci(d),u.scheduler=o?()=>o(W,!1):W,S=E=>Bo(E,!1,u),v=u.onStop=()=>{const E=ze.get(u);if(E){if(c)c(E,4);else for(const K of E)K();ze.delete(u)}},e?n?W(!0):$=u.run():o?o(W.bind(null,!0),!0):u.run(),A.pause=u.pause.bind(u),A.resume=u.resume.bind(u),A.stop=A,A}function Dt(t,e=1/0,s){if(e<=0||!q(t)||t.__v_skip||(s=s||new Map,(s.get(t)||0)>=e))return t;if(s.set(t,e),e--,et(t))Dt(t.value,e,s);else if(I(t))for(let n=0;n<t.length;n++)Dt(t[n],e,s);else if(Xr(t)||be(t))t.forEach(n=>{Dt(n,e,s)});else if(Qr(t)){for(const n in t)Dt(t[n],e,s);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&Dt(t[n],e,s)}return t}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Pe(t,e,s,n){try{return n?t(...n):t()}catch(i){rs(i,e,s)}}function kt(t,e,s,n){if(P(t)){const i=Pe(t,e,s,n);return i&&ii(i)&&i.catch(r=>{rs(r,e,s)}),i}if(I(t)){const i=[];for(let r=0;r<t.length;r++)i.push(kt(t[r],e,s,n));return i}}function rs(t,e,s,n=!0){const i=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||j;if(e){let l=e.parent;const c=e.proxy,f=`https://vuejs.org/error-reference/#runtime-${s}`;for(;l;){const u=l.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,c,f)===!1)return}l=l.parent}if(r){Ot(),Pe(r,null,10,[t,c,f]),It();return}}Ho(t,s,i,n,o)}function Ho(t,e,s,n=!0,i=!1){if(i)throw t;console.error(t)}const Q=[];let bt=-1;const ee=[];let At=null,te=0;const Si=Promise.resolve();let Ye=null;function Fo(t){const e=Ye||Si;return t?e.then(this?t.bind(this):t):e}function Go(t){let e=bt+1,s=Q.length;for(;e<s;){const n=e+s>>>1,i=Q[n],r=Me(i);r<t||r===t&&i.flags&2?e=n+1:s=n}return e}function en(t){if(!(t.flags&1)){const e=Me(t),s=Q[Q.length-1];!s||!(t.flags&2)&&e>=Me(s)?Q.push(t):Q.splice(Go(e),0,t),t.flags|=1,Ci()}}function Ci(){Ye||(Ye=Si.then(Ei))}function Uo(t){I(t)?ee.push(...t):At&&t.id===-1?At.splice(te+1,0,t):t.flags&1||(ee.push(t),t.flags|=1),Ci()}function yn(t,e,s=bt+1){for(;s<Q.length;s++){const n=Q[s];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;Q.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Ti(t){if(ee.length){const e=[...new Set(ee)].sort((s,n)=>Me(s)-Me(n));if(ee.length=0,At){At.push(...e);return}for(At=e,te=0;te<At.length;te++){const s=At[te];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}At=null,te=0}}const Me=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Ei(t){try{for(bt=0;bt<Q.length;bt++){const e=Q[bt];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Pe(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;bt<Q.length;bt++){const e=Q[bt];e&&(e.flags&=-2)}bt=-1,Q.length=0,Ti(),Ye=null,(Q.length||ee.length)&&Ei()}}let wt=null,Mi=null;function Xe(t){const e=wt;return wt=t,Mi=t&&t.type.__scopeId||null,e}function jo(t,e=wt,s){if(!e||t._n)return t;const n=(...i)=>{n._d&&Rn(-1);const r=Xe(e);let o;try{o=t(...i)}finally{Xe(r),n._d&&Rn(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function Vt(t,e,s,n){const i=t.dirs,r=e&&e.dirs;for(let o=0;o<i.length;o++){const l=i[o];r&&(l.oldValue=r[o].value);let c=l.dir[n];c&&(Ot(),kt(c,s,8,[t.el,l,t,e]),It())}}const $o=Symbol("_vte"),Vo=t=>t.__isTeleport,Wo=Symbol("_leaveCb");function sn(t,e){t.shapeFlag&6&&t.component?(t.transition=e,sn(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Oi(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const Je=new WeakMap;function ke(t,e,s,n,i=!1){if(I(t)){t.forEach((O,R)=>ke(O,e&&(I(e)?e[R]:e),s,n,i));return}if(Se(n)&&!i){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&ke(t,e,s,n.component.subTree);return}const r=n.shapeFlag&4?cn(n.component):n.el,o=i?null:r,{i:l,r:c}=t,f=e&&e.r,u=l.refs===j?l.refs={}:l.refs,d=l.setupState,v=H(d),S=d===j?ni:O=>B(v,O);if(f!=null&&f!==c){if(kn(e),z(f))u[f]=null,S(f)&&(d[f]=null);else if(et(f)){f.value=null;const O=e;O.k&&(u[O.k]=null)}}if(P(c))Pe(c,l,12,[o,u]);else{const O=z(c),R=et(c);if(O||R){const Y=()=>{if(t.f){const A=O?S(c)?d[c]:u[c]:c.value;if(i)I(A)&&$s(A,r);else if(I(A))A.includes(r)||A.push(r);else if(O)u[c]=[r],S(c)&&(d[c]=u[c]);else{const $=[r];c.value=$,t.k&&(u[t.k]=$)}}else O?(u[c]=o,S(c)&&(d[c]=o)):R&&(c.value=o,t.k&&(u[t.k]=o))};if(o){const A=()=>{Y(),Je.delete(t)};A.id=-1,Je.set(t,A),ct(A,s)}else kn(t),Y()}}}function kn(t){const e=Je.get(t);e&&(e.flags|=8,Je.delete(t))}is().requestIdleCallback;is().cancelIdleCallback;const Se=t=>!!t.type.__asyncLoader,Ii=t=>t.type.__isKeepAlive;function qo(t,e){Pi(t,"a",e)}function Ko(t,e){Pi(t,"da",e)}function Pi(t,e,s=tt){const n=t.__wdc||(t.__wdc=()=>{let i=s;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(os(e,n,s),s){let i=s.parent;for(;i&&i.parent;)Ii(i.parent.vnode)&&zo(n,e,s,i),i=i.parent}}function zo(t,e,s,n){const i=os(e,t,n,!0);Ri(()=>{$s(n[e],i)},s)}function os(t,e,s=tt,n=!1){if(s){const i=s[t]||(s[t]=[]),r=e.__weh||(e.__weh=(...o)=>{Ot();const l=Re(s),c=kt(e,s,t,o);return l(),It(),c});return n?i.unshift(r):i.push(r),r}}const Pt=t=>(e,s=tt)=>{(!Oe||t==="sp")&&os(t,(...n)=>e(...n),s)},Yo=Pt("bm"),Xo=Pt("m"),Jo=Pt("bu"),Zo=Pt("u"),Qo=Pt("bum"),Ri=Pt("um"),tl=Pt("sp"),el=Pt("rtg"),sl=Pt("rtc");function nl(t,e=tt){os("ec",t,e)}const il=Symbol.for("v-ndc"),Os=t=>t?Zi(t)?cn(t):Os(t.parent):null,Ce=st(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Os(t.parent),$root:t=>Os(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Li(t),$forceUpdate:t=>t.f||(t.f=()=>{en(t.update)}),$nextTick:t=>t.n||(t.n=Fo.bind(t.proxy)),$watch:t=>Tl.bind(t)}),_s=(t,e)=>t!==j&&!t.__isScriptSetup&&B(t,e),rl={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:n,data:i,props:r,accessCache:o,type:l,appContext:c}=t;let f;if(e[0]!=="$"){const S=o[e];if(S!==void 0)switch(S){case 1:return n[e];case 2:return i[e];case 4:return s[e];case 3:return r[e]}else{if(_s(n,e))return o[e]=1,n[e];if(i!==j&&B(i,e))return o[e]=2,i[e];if((f=t.propsOptions[0])&&B(f,e))return o[e]=3,r[e];if(s!==j&&B(s,e))return o[e]=4,s[e];Is&&(o[e]=0)}}const u=Ce[e];let d,v;if(u)return e==="$attrs"&&X(t.attrs,"get",""),u(t);if((d=l.__cssModules)&&(d=d[e]))return d;if(s!==j&&B(s,e))return o[e]=4,s[e];if(v=c.config.globalProperties,B(v,e))return v[e]},set({_:t},e,s){const{data:n,setupState:i,ctx:r}=t;return _s(i,e)?(i[e]=s,!0):n!==j&&B(n,e)?(n[e]=s,!0):B(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:n,appContext:i,propsOptions:r,type:o}},l){let c,f;return!!(s[l]||t!==j&&l[0]!=="$"&&B(t,l)||_s(e,l)||(c=r[0])&&B(c,l)||B(n,l)||B(Ce,l)||B(i.config.globalProperties,l)||(f=o.__cssModules)&&f[l])},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:B(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function Sn(t){return I(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let Is=!0;function ol(t){const e=Li(t),s=t.proxy,n=t.ctx;Is=!1,e.beforeCreate&&Cn(e.beforeCreate,t,"bc");const{data:i,computed:r,methods:o,watch:l,provide:c,inject:f,created:u,beforeMount:d,mounted:v,beforeUpdate:S,updated:O,activated:R,deactivated:Y,beforeDestroy:A,beforeUnmount:$,destroyed:W,unmounted:E,render:K,renderTracked:Rt,renderTriggered:ht,errorCaptured:Nt,serverPrefetch:Ne,expose:Ut,inheritAttrs:ae,components:Le,directives:Ae,filters:as}=e;if(f&&ll(f,n,null),o)for(const V in o){const F=o[V];P(F)&&(n[V]=F.bind(s))}if(i){const V=i.call(s,s);q(V)&&(t.data=Zs(V))}if(Is=!0,r)for(const V in r){const F=r[V],jt=P(F)?F.bind(s,s):P(F.get)?F.get.bind(s,s):xt,Be=!P(F)&&P(F.set)?F.set.bind(s):xt,$t=Xl({get:jt,set:Be});Object.defineProperty(n,V,{enumerable:!0,configurable:!0,get:()=>$t.value,set:dt=>$t.value=dt})}if(l)for(const V in l)Ni(l[V],n,s,V);if(c){const V=P(c)?c.call(s):c;Reflect.ownKeys(V).forEach(F=>{dl(F,V[F])})}u&&Cn(u,t,"c");function J(V,F){I(F)?F.forEach(jt=>V(jt.bind(s))):F&&V(F.bind(s))}if(J(Yo,d),J(Xo,v),J(Jo,S),J(Zo,O),J(qo,R),J(Ko,Y),J(nl,Nt),J(sl,Rt),J(el,ht),J(Qo,$),J(Ri,E),J(tl,Ne),I(Ut))if(Ut.length){const V=t.exposed||(t.exposed={});Ut.forEach(F=>{Object.defineProperty(V,F,{get:()=>s[F],set:jt=>s[F]=jt,enumerable:!0})})}else t.exposed||(t.exposed={});K&&t.render===xt&&(t.render=K),ae!=null&&(t.inheritAttrs=ae),Le&&(t.components=Le),Ae&&(t.directives=Ae),Ne&&Oi(t)}function ll(t,e,s=xt){I(t)&&(t=Ps(t));for(const n in t){const i=t[n];let r;q(i)?"default"in i?r=$e(i.from||n,i.default,!0):r=$e(i.from||n):r=$e(i),et(r)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[n]=r}}function Cn(t,e,s){kt(I(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,s)}function Ni(t,e,s,n){let i=n.includes(".")?Ki(s,n):()=>s[n];if(z(t)){const r=e[t];P(r)&&vs(i,r)}else if(P(t))vs(i,t.bind(s));else if(q(t))if(I(t))t.forEach(r=>Ni(r,e,s,n));else{const r=P(t.handler)?t.handler.bind(s):e[t.handler];P(r)&&vs(i,r,t)}}function Li(t){const e=t.type,{mixins:s,extends:n}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,l=r.get(e);let c;return l?c=l:!i.length&&!s&&!n?c=e:(c={},i.length&&i.forEach(f=>Ze(c,f,o,!0)),Ze(c,e,o)),q(e)&&r.set(e,c),c}function Ze(t,e,s,n=!1){const{mixins:i,extends:r}=e;r&&Ze(t,r,s,!0),i&&i.forEach(o=>Ze(t,o,s,!0));for(const o in e)if(!(n&&o==="expose")){const l=cl[o]||s&&s[o];t[o]=l?l(t[o],e[o]):e[o]}return t}const cl={data:Tn,props:En,emits:En,methods:pe,computed:pe,beforeCreate:Z,created:Z,beforeMount:Z,mounted:Z,beforeUpdate:Z,updated:Z,beforeDestroy:Z,beforeUnmount:Z,destroyed:Z,unmounted:Z,activated:Z,deactivated:Z,errorCaptured:Z,serverPrefetch:Z,components:pe,directives:pe,watch:fl,provide:Tn,inject:al};function Tn(t,e){return e?t?function(){return st(P(t)?t.call(this,this):t,P(e)?e.call(this,this):e)}:e:t}function al(t,e){return pe(Ps(t),Ps(e))}function Ps(t){if(I(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function Z(t,e){return t?[...new Set([].concat(t,e))]:e}function pe(t,e){return t?st(Object.create(null),t,e):e}function En(t,e){return t?I(t)&&I(e)?[...new Set([...t,...e])]:st(Object.create(null),Sn(t),Sn(e??{})):e}function fl(t,e){if(!t)return e;if(!e)return t;const s=st(Object.create(null),t);for(const n in e)s[n]=Z(t[n],e[n]);return s}function Ai(){return{app:null,config:{isNativeTag:ni,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ul=0;function hl(t,e){return function(n,i=null){P(n)||(n=st({},n)),i!=null&&!q(i)&&(i=null);const r=Ai(),o=new WeakSet,l=[];let c=!1;const f=r.app={_uid:ul++,_component:n,_props:i,_container:null,_context:r,_instance:null,version:Jl,get config(){return r.config},set config(u){},use(u,...d){return o.has(u)||(u&&P(u.install)?(o.add(u),u.install(f,...d)):P(u)&&(o.add(u),u(f,...d))),f},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),f},component(u,d){return d?(r.components[u]=d,f):r.components[u]},directive(u,d){return d?(r.directives[u]=d,f):r.directives[u]},mount(u,d,v){if(!c){const S=f._ceVNode||Ft(n,i);return S.appContext=r,v===!0?v="svg":v===!1&&(v=void 0),t(S,u,v),c=!0,f._container=u,u.__vue_app__=f,cn(S.component)}},onUnmount(u){l.push(u)},unmount(){c&&(kt(l,f._instance,16),t(null,f._container),delete f._container.__vue_app__)},provide(u,d){return r.provides[u]=d,f},runWithContext(u){const d=se;se=f;try{return u()}finally{se=d}}};return f}}let se=null;function dl(t,e){if(tt){let s=tt.provides;const n=tt.parent&&tt.parent.provides;n===s&&(s=tt.provides=Object.create(n)),s[t]=e}}function $e(t,e,s=!1){const n=Vl();if(n||se){let i=se?se._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return s&&P(e)?e.call(n&&n.proxy):e}}const Bi={},Di=()=>Object.create(Bi),Hi=t=>Object.getPrototypeOf(t)===Bi;function gl(t,e,s,n=!1){const i={},r=Di();t.propsDefaults=Object.create(null),Fi(t,e,i,r);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);s?t.props=n?i:Io(i):t.type.props?t.props=i:t.props=r,t.attrs=r}function pl(t,e,s,n){const{props:i,attrs:r,vnode:{patchFlag:o}}=t,l=H(i),[c]=t.propsOptions;let f=!1;if((n||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let v=u[d];if(ls(t.emitsOptions,v))continue;const S=e[v];if(c)if(B(r,v))S!==r[v]&&(r[v]=S,f=!0);else{const O=Gt(v);i[O]=Rs(c,l,O,S,t,!1)}else S!==r[v]&&(r[v]=S,f=!0)}}}else{Fi(t,e,i,r)&&(f=!0);let u;for(const d in l)(!e||!B(e,d)&&((u=Xt(d))===d||!B(e,u)))&&(c?s&&(s[d]!==void 0||s[u]!==void 0)&&(i[d]=Rs(c,l,d,void 0,t,!0)):delete i[d]);if(r!==l)for(const d in r)(!e||!B(e,d))&&(delete r[d],f=!0)}f&&Mt(t.attrs,"set","")}function Fi(t,e,s,n){const[i,r]=t.propsOptions;let o=!1,l;if(e)for(let c in e){if(ve(c))continue;const f=e[c];let u;i&&B(i,u=Gt(c))?!r||!r.includes(u)?s[u]=f:(l||(l={}))[u]=f:ls(t.emitsOptions,c)||(!(c in n)||f!==n[c])&&(n[c]=f,o=!0)}if(r){const c=H(s),f=l||j;for(let u=0;u<r.length;u++){const d=r[u];s[d]=Rs(i,c,d,f[d],t,!B(f,d))}}return o}function Rs(t,e,s,n,i,r){const o=t[s];if(o!=null){const l=B(o,"default");if(l&&n===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&P(c)){const{propsDefaults:f}=i;if(s in f)n=f[s];else{const u=Re(i);n=f[s]=c.call(null,e),u()}}else n=c;i.ce&&i.ce._setProp(s,n)}o[0]&&(r&&!l?n=!1:o[1]&&(n===""||n===Xt(s))&&(n=!0))}return n}const ml=new WeakMap;function Gi(t,e,s=!1){const n=s?ml:e.propsCache,i=n.get(t);if(i)return i;const r=t.props,o={},l=[];let c=!1;if(!P(t)){const u=d=>{c=!0;const[v,S]=Gi(d,e,!0);st(o,v),S&&l.push(...S)};!s&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!r&&!c)return q(t)&&n.set(t,_e),_e;if(I(r))for(let u=0;u<r.length;u++){const d=Gt(r[u]);Mn(d)&&(o[d]=j)}else if(r)for(const u in r){const d=Gt(u);if(Mn(d)){const v=r[u],S=o[d]=I(v)||P(v)?{type:v}:st({},v),O=S.type;let R=!1,Y=!0;if(I(O))for(let A=0;A<O.length;++A){const $=O[A],W=P($)&&$.name;if(W==="Boolean"){R=!0;break}else W==="String"&&(Y=!1)}else R=P(O)&&O.name==="Boolean";S[0]=R,S[1]=Y,(R||B(S,"default"))&&l.push(d)}}const f=[o,l];return q(t)&&n.set(t,f),f}function Mn(t){return t[0]!=="$"&&!ve(t)}const nn=t=>t==="_"||t==="_ctx"||t==="$stable",rn=t=>I(t)?t.map(vt):[vt(t)],_l=(t,e,s)=>{if(e._n)return e;const n=jo((...i)=>rn(e(...i)),s);return n._c=!1,n},Ui=(t,e,s)=>{const n=t._ctx;for(const i in t){if(nn(i))continue;const r=t[i];if(P(r))e[i]=_l(i,r,n);else if(r!=null){const o=rn(r);e[i]=()=>o}}},ji=(t,e)=>{const s=rn(e);t.slots.default=()=>s},$i=(t,e,s)=>{for(const n in e)(s||!nn(n))&&(t[n]=e[n])},bl=(t,e,s)=>{const n=t.slots=Di();if(t.vnode.shapeFlag&32){const i=e._;i?($i(n,e,s),s&&oi(n,"_",i,!0)):Ui(e,n)}else e&&ji(t,e)},vl=(t,e,s)=>{const{vnode:n,slots:i}=t;let r=!0,o=j;if(n.shapeFlag&32){const l=e._;l?s&&l===1?r=!1:$i(i,e,s):(r=!e.$stable,Ui(e,i)),o=e}else e&&(ji(t,e),o={default:1});if(r)for(const l in i)!nn(l)&&o[l]==null&&delete i[l]},ct=Ll;function wl(t){return xl(t)}function xl(t,e){const s=is();s.__VUE__=!0;const{insert:n,remove:i,patchProp:r,createElement:o,createText:l,createComment:c,setText:f,setElementText:u,parentNode:d,nextSibling:v,setScopeId:S=xt,insertStaticContent:O}=t,R=(a,h,g,_=null,p=null,m=null,y=void 0,x=null,w=!!h.dynamicChildren)=>{if(a===h)return;a&&!ge(a,h)&&(_=De(a),dt(a,p,m,!0),a=null),h.patchFlag===-2&&(w=!1,h.dynamicChildren=null);const{type:b,ref:T,shapeFlag:k}=h;switch(b){case cs:Y(a,h,g,_);break;case re:A(a,h,g,_);break;case Ve:a==null&&$(h,g,_,y);break;case Et:Le(a,h,g,_,p,m,y,x,w);break;default:k&1?K(a,h,g,_,p,m,y,x,w):k&6?Ae(a,h,g,_,p,m,y,x,w):(k&64||k&128)&&b.process(a,h,g,_,p,m,y,x,w,ue)}T!=null&&p?ke(T,a&&a.ref,m,h||a,!h):T==null&&a&&a.ref!=null&&ke(a.ref,null,m,a,!0)},Y=(a,h,g,_)=>{if(a==null)n(h.el=l(h.children),g,_);else{const p=h.el=a.el;h.children!==a.children&&f(p,h.children)}},A=(a,h,g,_)=>{a==null?n(h.el=c(h.children||""),g,_):h.el=a.el},$=(a,h,g,_)=>{[a.el,a.anchor]=O(a.children,h,g,_,a.el,a.anchor)},W=({el:a,anchor:h},g,_)=>{let p;for(;a&&a!==h;)p=v(a),n(a,g,_),a=p;n(h,g,_)},E=({el:a,anchor:h})=>{let g;for(;a&&a!==h;)g=v(a),i(a),a=g;i(h)},K=(a,h,g,_,p,m,y,x,w)=>{h.type==="svg"?y="svg":h.type==="math"&&(y="mathml"),a==null?Rt(h,g,_,p,m,y,x,w):Ne(a,h,p,m,y,x,w)},Rt=(a,h,g,_,p,m,y,x)=>{let w,b;const{props:T,shapeFlag:k,transition:C,dirs:M}=a;if(w=a.el=o(a.type,m,T&&T.is,T),k&8?u(w,a.children):k&16&&Nt(a.children,w,null,_,p,bs(a,m),y,x),M&&Vt(a,null,_,"created"),ht(w,a,a.scopeId,y,_),T){for(const G in T)G!=="value"&&!ve(G)&&r(w,G,null,T[G],m,_);"value"in T&&r(w,"value",null,T.value,m),(b=T.onVnodeBeforeMount)&&_t(b,_,a)}M&&Vt(a,null,_,"beforeMount");const L=yl(p,C);L&&C.beforeEnter(w),n(w,h,g),((b=T&&T.onVnodeMounted)||L||M)&&ct(()=>{b&&_t(b,_,a),L&&C.enter(w),M&&Vt(a,null,_,"mounted")},p)},ht=(a,h,g,_,p)=>{if(g&&S(a,g),_)for(let m=0;m<_.length;m++)S(a,_[m]);if(p){let m=p.subTree;if(h===m||Yi(m.type)&&(m.ssContent===h||m.ssFallback===h)){const y=p.vnode;ht(a,y,y.scopeId,y.slotScopeIds,p.parent)}}},Nt=(a,h,g,_,p,m,y,x,w=0)=>{for(let b=w;b<a.length;b++){const T=a[b]=x?Bt(a[b]):vt(a[b]);R(null,T,h,g,_,p,m,y,x)}},Ne=(a,h,g,_,p,m,y)=>{const x=h.el=a.el;let{patchFlag:w,dynamicChildren:b,dirs:T}=h;w|=a.patchFlag&16;const k=a.props||j,C=h.props||j;let M;if(g&&Wt(g,!1),(M=C.onVnodeBeforeUpdate)&&_t(M,g,h,a),T&&Vt(h,a,g,"beforeUpdate"),g&&Wt(g,!0),(k.innerHTML&&C.innerHTML==null||k.textContent&&C.textContent==null)&&u(x,""),b?Ut(a.dynamicChildren,b,x,g,_,bs(h,p),m):y||F(a,h,x,null,g,_,bs(h,p),m,!1),w>0){if(w&16)ae(x,k,C,g,p);else if(w&2&&k.class!==C.class&&r(x,"class",null,C.class,p),w&4&&r(x,"style",k.style,C.style,p),w&8){const L=h.dynamicProps;for(let G=0;G<L.length;G++){const D=L[G],nt=k[D],it=C[D];(it!==nt||D==="value")&&r(x,D,nt,it,p,g)}}w&1&&a.children!==h.children&&u(x,h.children)}else!y&&b==null&&ae(x,k,C,g,p);((M=C.onVnodeUpdated)||T)&&ct(()=>{M&&_t(M,g,h,a),T&&Vt(h,a,g,"updated")},_)},Ut=(a,h,g,_,p,m,y)=>{for(let x=0;x<h.length;x++){const w=a[x],b=h[x],T=w.el&&(w.type===Et||!ge(w,b)||w.shapeFlag&198)?d(w.el):g;R(w,b,T,null,_,p,m,y,!0)}},ae=(a,h,g,_,p)=>{if(h!==g){if(h!==j)for(const m in h)!ve(m)&&!(m in g)&&r(a,m,h[m],null,p,_);for(const m in g){if(ve(m))continue;const y=g[m],x=h[m];y!==x&&m!=="value"&&r(a,m,x,y,p,_)}"value"in g&&r(a,"value",h.value,g.value,p)}},Le=(a,h,g,_,p,m,y,x,w)=>{const b=h.el=a?a.el:l(""),T=h.anchor=a?a.anchor:l("");let{patchFlag:k,dynamicChildren:C,slotScopeIds:M}=h;M&&(x=x?x.concat(M):M),a==null?(n(b,g,_),n(T,g,_),Nt(h.children||[],g,T,p,m,y,x,w)):k>0&&k&64&&C&&a.dynamicChildren?(Ut(a.dynamicChildren,C,g,p,m,y,x),(h.key!=null||p&&h===p.subTree)&&Vi(a,h,!0)):F(a,h,g,T,p,m,y,x,w)},Ae=(a,h,g,_,p,m,y,x,w)=>{h.slotScopeIds=x,a==null?h.shapeFlag&512?p.ctx.activate(h,g,_,y,w):as(h,g,_,p,m,y,w):an(a,h,w)},as=(a,h,g,_,p,m,y)=>{const x=a.component=$l(a,_,p);if(Ii(a)&&(x.ctx.renderer=ue),Wl(x,!1,y),x.asyncDep){if(p&&p.registerDep(x,J,y),!a.el){const w=x.subTree=Ft(re);A(null,w,h,g),a.placeholder=w.el}}else J(x,a,h,g,p,m,y)},an=(a,h,g)=>{const _=h.component=a.component;if(Rl(a,h,g))if(_.asyncDep&&!_.asyncResolved){V(_,h,g);return}else _.next=h,_.update();else h.el=a.el,_.vnode=h},J=(a,h,g,_,p,m,y)=>{const x=()=>{if(a.isMounted){let{next:k,bu:C,u:M,parent:L,vnode:G}=a;{const pt=Wi(a);if(pt){k&&(k.el=G.el,V(a,k,y)),pt.asyncDep.then(()=>{a.isUnmounted||x()});return}}let D=k,nt;Wt(a,!1),k?(k.el=G.el,V(a,k,y)):k=G,C&&ds(C),(nt=k.props&&k.props.onVnodeBeforeUpdate)&&_t(nt,L,k,G),Wt(a,!0);const it=In(a),gt=a.subTree;a.subTree=it,R(gt,it,d(gt.el),De(gt),a,p,m),k.el=it.el,D===null&&Nl(a,it.el),M&&ct(M,p),(nt=k.props&&k.props.onVnodeUpdated)&&ct(()=>_t(nt,L,k,G),p)}else{let k;const{el:C,props:M}=h,{bm:L,m:G,parent:D,root:nt,type:it}=a,gt=Se(h);Wt(a,!1),L&&ds(L),!gt&&(k=M&&M.onVnodeBeforeMount)&&_t(k,D,h),Wt(a,!0);{nt.ce&&nt.ce._def.shadowRoot!==!1&&nt.ce._injectChildStyle(it);const pt=a.subTree=In(a);R(null,pt,g,_,a,p,m),h.el=pt.el}if(G&&ct(G,p),!gt&&(k=M&&M.onVnodeMounted)){const pt=h;ct(()=>_t(k,D,pt),p)}(h.shapeFlag&256||D&&Se(D.vnode)&&D.vnode.shapeFlag&256)&&a.a&&ct(a.a,p),a.isMounted=!0,h=g=_=null}};a.scope.on();const w=a.effect=new ci(x);a.scope.off();const b=a.update=w.run.bind(w),T=a.job=w.runIfDirty.bind(w);T.i=a,T.id=a.uid,w.scheduler=()=>en(T),Wt(a,!0),b()},V=(a,h,g)=>{h.component=a;const _=a.vnode.props;a.vnode=h,a.next=null,pl(a,h.props,_,g),vl(a,h.children,g),Ot(),yn(a),It()},F=(a,h,g,_,p,m,y,x,w=!1)=>{const b=a&&a.children,T=a?a.shapeFlag:0,k=h.children,{patchFlag:C,shapeFlag:M}=h;if(C>0){if(C&128){Be(b,k,g,_,p,m,y,x,w);return}else if(C&256){jt(b,k,g,_,p,m,y,x,w);return}}M&8?(T&16&&fe(b,p,m),k!==b&&u(g,k)):T&16?M&16?Be(b,k,g,_,p,m,y,x,w):fe(b,p,m,!0):(T&8&&u(g,""),M&16&&Nt(k,g,_,p,m,y,x,w))},jt=(a,h,g,_,p,m,y,x,w)=>{a=a||_e,h=h||_e;const b=a.length,T=h.length,k=Math.min(b,T);let C;for(C=0;C<k;C++){const M=h[C]=w?Bt(h[C]):vt(h[C]);R(a[C],M,g,null,p,m,y,x,w)}b>T?fe(a,p,m,!0,!1,k):Nt(h,g,_,p,m,y,x,w,k)},Be=(a,h,g,_,p,m,y,x,w)=>{let b=0;const T=h.length;let k=a.length-1,C=T-1;for(;b<=k&&b<=C;){const M=a[b],L=h[b]=w?Bt(h[b]):vt(h[b]);if(ge(M,L))R(M,L,g,null,p,m,y,x,w);else break;b++}for(;b<=k&&b<=C;){const M=a[k],L=h[C]=w?Bt(h[C]):vt(h[C]);if(ge(M,L))R(M,L,g,null,p,m,y,x,w);else break;k--,C--}if(b>k){if(b<=C){const M=C+1,L=M<T?h[M].el:_;for(;b<=C;)R(null,h[b]=w?Bt(h[b]):vt(h[b]),g,L,p,m,y,x,w),b++}}else if(b>C)for(;b<=k;)dt(a[b],p,m,!0),b++;else{const M=b,L=b,G=new Map;for(b=L;b<=C;b++){const lt=h[b]=w?Bt(h[b]):vt(h[b]);lt.key!=null&&G.set(lt.key,b)}let D,nt=0;const it=C-L+1;let gt=!1,pt=0;const he=new Array(it);for(b=0;b<it;b++)he[b]=0;for(b=M;b<=k;b++){const lt=a[b];if(nt>=it){dt(lt,p,m,!0);continue}let mt;if(lt.key!=null)mt=G.get(lt.key);else for(D=L;D<=C;D++)if(he[D-L]===0&&ge(lt,h[D])){mt=D;break}mt===void 0?dt(lt,p,m,!0):(he[mt-L]=b+1,mt>=pt?pt=mt:gt=!0,R(lt,h[mt],g,null,p,m,y,x,w),nt++)}const hn=gt?kl(he):_e;for(D=hn.length-1,b=it-1;b>=0;b--){const lt=L+b,mt=h[lt],dn=h[lt+1],gn=lt+1<T?dn.el||dn.placeholder:_;he[b]===0?R(null,mt,g,gn,p,m,y,x,w):gt&&(D<0||b!==hn[D]?$t(mt,g,gn,2):D--)}}},$t=(a,h,g,_,p=null)=>{const{el:m,type:y,transition:x,children:w,shapeFlag:b}=a;if(b&6){$t(a.component.subTree,h,g,_);return}if(b&128){a.suspense.move(h,g,_);return}if(b&64){y.move(a,h,g,ue);return}if(y===Et){n(m,h,g);for(let k=0;k<w.length;k++)$t(w[k],h,g,_);n(a.anchor,h,g);return}if(y===Ve){W(a,h,g);return}if(_!==2&&b&1&&x)if(_===0)x.beforeEnter(m),n(m,h,g),ct(()=>x.enter(m),p);else{const{leave:k,delayLeave:C,afterLeave:M}=x,L=()=>{a.ctx.isUnmounted?i(m):n(m,h,g)},G=()=>{m._isLeaving&&m[Wo](!0),k(m,()=>{L(),M&&M()})};C?C(m,L,G):G()}else n(m,h,g)},dt=(a,h,g,_=!1,p=!1)=>{const{type:m,props:y,ref:x,children:w,dynamicChildren:b,shapeFlag:T,patchFlag:k,dirs:C,cacheIndex:M}=a;if(k===-2&&(p=!1),x!=null&&(Ot(),ke(x,null,g,a,!0),It()),M!=null&&(h.renderCache[M]=void 0),T&256){h.ctx.deactivate(a);return}const L=T&1&&C,G=!Se(a);let D;if(G&&(D=y&&y.onVnodeBeforeUnmount)&&_t(D,h,a),T&6)sr(a.component,g,_);else{if(T&128){a.suspense.unmount(g,_);return}L&&Vt(a,null,h,"beforeUnmount"),T&64?a.type.remove(a,h,g,ue,_):b&&!b.hasOnce&&(m!==Et||k>0&&k&64)?fe(b,h,g,!1,!0):(m===Et&&k&384||!p&&T&16)&&fe(w,h,g),_&&fn(a)}(G&&(D=y&&y.onVnodeUnmounted)||L)&&ct(()=>{D&&_t(D,h,a),L&&Vt(a,null,h,"unmounted")},g)},fn=a=>{const{type:h,el:g,anchor:_,transition:p}=a;if(h===Et){er(g,_);return}if(h===Ve){E(a);return}const m=()=>{i(g),p&&!p.persisted&&p.afterLeave&&p.afterLeave()};if(a.shapeFlag&1&&p&&!p.persisted){const{leave:y,delayLeave:x}=p,w=()=>y(g,m);x?x(a.el,m,w):w()}else m()},er=(a,h)=>{let g;for(;a!==h;)g=v(a),i(a),a=g;i(h)},sr=(a,h,g)=>{const{bum:_,scope:p,job:m,subTree:y,um:x,m:w,a:b}=a;On(w),On(b),_&&ds(_),p.stop(),m&&(m.flags|=8,dt(y,a,h,g)),x&&ct(x,h),ct(()=>{a.isUnmounted=!0},h)},fe=(a,h,g,_=!1,p=!1,m=0)=>{for(let y=m;y<a.length;y++)dt(a[y],h,g,_,p)},De=a=>{if(a.shapeFlag&6)return De(a.component.subTree);if(a.shapeFlag&128)return a.suspense.next();const h=v(a.anchor||a.el),g=h&&h[$o];return g?v(g):h};let fs=!1;const un=(a,h,g)=>{a==null?h._vnode&&dt(h._vnode,null,null,!0):R(h._vnode||null,a,h,null,null,null,g),h._vnode=a,fs||(fs=!0,yn(),Ti(),fs=!1)},ue={p:R,um:dt,m:$t,r:fn,mt:as,mc:Nt,pc:F,pbc:Ut,n:De,o:t};return{render:un,hydrate:void 0,createApp:hl(un)}}function bs({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function Wt({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function yl(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Vi(t,e,s=!1){const n=t.children,i=e.children;if(I(n)&&I(i))for(let r=0;r<n.length;r++){const o=n[r];let l=i[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[r]=Bt(i[r]),l.el=o.el),!s&&l.patchFlag!==-2&&Vi(o,l)),l.type===cs&&l.patchFlag!==-1&&(l.el=o.el),l.type===re&&!l.el&&(l.el=o.el)}}function kl(t){const e=t.slice(),s=[0];let n,i,r,o,l;const c=t.length;for(n=0;n<c;n++){const f=t[n];if(f!==0){if(i=s[s.length-1],t[i]<f){e[n]=i,s.push(n);continue}for(r=0,o=s.length-1;r<o;)l=r+o>>1,t[s[l]]<f?r=l+1:o=l;f<t[s[r]]&&(r>0&&(e[n]=s[r-1]),s[r]=n)}}for(r=s.length,o=s[r-1];r-- >0;)s[r]=o,o=e[o];return s}function Wi(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Wi(e)}function On(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Sl=Symbol.for("v-scx"),Cl=()=>$e(Sl);function vs(t,e,s){return qi(t,e,s)}function qi(t,e,s=j){const{immediate:n,deep:i,flush:r,once:o}=s,l=st({},s),c=e&&n||!e&&r!=="post";let f;if(Oe){if(r==="sync"){const S=Cl();f=S.__watcherHandles||(S.__watcherHandles=[])}else if(!c){const S=()=>{};return S.stop=xt,S.resume=xt,S.pause=xt,S}}const u=tt;l.call=(S,O,R)=>kt(S,u,O,R);let d=!1;r==="post"?l.scheduler=S=>{ct(S,u&&u.suspense)}:r!=="sync"&&(d=!0,l.scheduler=(S,O)=>{O?S():en(S)}),l.augmentJob=S=>{e&&(S.flags|=4),d&&(S.flags|=2,u&&(S.id=u.uid,S.i=u))};const v=Do(t,e,l);return Oe&&(f?f.push(v):c&&v()),v}function Tl(t,e,s){const n=this.proxy,i=z(t)?t.includes(".")?Ki(n,t):()=>n[t]:t.bind(n,n);let r;P(e)?r=e:(r=e.handler,s=e);const o=Re(this),l=qi(i,r.bind(n),s);return o(),l}function Ki(t,e){const s=e.split(".");return()=>{let n=t;for(let i=0;i<s.length&&n;i++)n=n[s[i]];return n}}const El=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Gt(e)}Modifiers`]||t[`${Xt(e)}Modifiers`];function Ml(t,e,...s){if(t.isUnmounted)return;const n=t.vnode.props||j;let i=s;const r=e.startsWith("update:"),o=r&&El(n,e.slice(7));o&&(o.trim&&(i=s.map(u=>z(u)?u.trim():u)),o.number&&(i=s.map(so)));let l,c=n[l=hs(e)]||n[l=hs(Gt(e))];!c&&r&&(c=n[l=hs(Xt(e))]),c&&kt(c,t,6,i);const f=n[l+"Once"];if(f){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,kt(f,t,6,i)}}const Ol=new WeakMap;function zi(t,e,s=!1){const n=s?Ol:e.emitsCache,i=n.get(t);if(i!==void 0)return i;const r=t.emits;let o={},l=!1;if(!P(t)){const c=f=>{const u=zi(f,e,!0);u&&(l=!0,st(o,u))};!s&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!r&&!l?(q(t)&&n.set(t,null),null):(I(r)?r.forEach(c=>o[c]=null):st(o,r),q(t)&&n.set(t,o),o)}function ls(t,e){return!t||!es(e)?!1:(e=e.slice(2).replace(/Once$/,""),B(t,e[0].toLowerCase()+e.slice(1))||B(t,Xt(e))||B(t,e))}function In(t){const{type:e,vnode:s,proxy:n,withProxy:i,propsOptions:[r],slots:o,attrs:l,emit:c,render:f,renderCache:u,props:d,data:v,setupState:S,ctx:O,inheritAttrs:R}=t,Y=Xe(t);let A,$;try{if(s.shapeFlag&4){const E=i||n,K=E;A=vt(f.call(K,E,u,d,S,v,O)),$=l}else{const E=e;A=vt(E.length>1?E(d,{attrs:l,slots:o,emit:c}):E(d,null)),$=e.props?l:Il(l)}}catch(E){rs(E,t,1),A=Ft(re)}let W=A;if($&&R!==!1){const E=Object.keys($),{shapeFlag:K}=W;E.length&&K&7&&(r&&E.some(js)&&($=Pl($,r)),W=oe(W,$,!1,!0))}return s.dirs&&(W=oe(W,null,!1,!0),W.dirs=W.dirs?W.dirs.concat(s.dirs):s.dirs),s.transition&&sn(W,s.transition),A=W,Xe(Y),A}const Il=t=>{let e;for(const s in t)(s==="class"||s==="style"||es(s))&&((e||(e={}))[s]=t[s]);return e},Pl=(t,e)=>{const s={};for(const n in t)(!js(n)||!(n.slice(9)in e))&&(s[n]=t[n]);return s};function Rl(t,e,s){const{props:n,children:i,component:r}=t,{props:o,children:l,patchFlag:c}=e,f=r.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&c>=0){if(c&1024)return!0;if(c&16)return n?Pn(n,o,f):!!o;if(c&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const v=u[d];if(o[v]!==n[v]&&!ls(f,v))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:n===o?!1:n?o?Pn(n,o,f):!0:!!o;return!1}function Pn(t,e,s){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let i=0;i<n.length;i++){const r=n[i];if(e[r]!==t[r]&&!ls(s,r))return!0}return!1}function Nl({vnode:t,parent:e},s){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=s,e=e.parent;else break}}const Yi=t=>t.__isSuspense;function Ll(t,e){e&&e.pendingBranch?I(t)?e.effects.push(...t):e.effects.push(t):Uo(t)}const Et=Symbol.for("v-fgt"),cs=Symbol.for("v-txt"),re=Symbol.for("v-cmt"),Ve=Symbol.for("v-stc");let Ht=null,on=1;function Rn(t,e=!1){on+=t,t<0&&Ht&&e&&(Ht.hasOnce=!0)}function Xi(t){return t?t.__v_isVNode===!0:!1}function ge(t,e){return t.type===e.type&&t.key===e.key}const Ji=({key:t})=>t??null,We=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?z(t)||et(t)||P(t)?{i:wt,r:t,k:e,f:!!s}:t:null);function Al(t,e=null,s=null,n=0,i=null,r=t===Et?0:1,o=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Ji(e),ref:e&&We(e),scopeId:Mi,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:wt};return l?(ln(c,s),r&128&&t.normalize(c)):s&&(c.shapeFlag|=z(s)?8:16),on>0&&!o&&Ht&&(c.patchFlag>0||r&6)&&c.patchFlag!==32&&Ht.push(c),c}const Ft=Bl;function Bl(t,e=null,s=null,n=0,i=null,r=!1){if((!t||t===il)&&(t=re),Xi(t)){const l=oe(t,e,!0);return s&&ln(l,s),on>0&&!r&&Ht&&(l.shapeFlag&6?Ht[Ht.indexOf(t)]=l:Ht.push(l)),l.patchFlag=-2,l}if(Yl(t)&&(t=t.__vccOpts),e){e=Dl(e);let{class:l,style:c}=e;l&&!z(l)&&(e.class=qs(l)),q(c)&&(tn(c)&&!I(c)&&(c=st({},c)),e.style=Ws(c))}const o=z(t)?1:Yi(t)?128:Vo(t)?64:q(t)?4:P(t)?2:0;return Al(t,e,s,n,i,o,r,!0)}function Dl(t){return t?tn(t)||Hi(t)?st({},t):t:null}function oe(t,e,s=!1,n=!1){const{props:i,ref:r,patchFlag:o,children:l,transition:c}=t,f=e?Gl(i||{},e):i,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:f,key:f&&Ji(f),ref:e&&e.ref?s&&r?I(r)?r.concat(We(e)):[r,We(e)]:We(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Et?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&oe(t.ssContent),ssFallback:t.ssFallback&&oe(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&n&&sn(u,c.clone(u)),u}function Hl(t=" ",e=0){return Ft(cs,null,t,e)}function Fl(t,e){const s=Ft(Ve,null,t);return s.staticCount=e,s}function vt(t){return t==null||typeof t=="boolean"?Ft(re):I(t)?Ft(Et,null,t.slice()):Xi(t)?Bt(t):Ft(cs,null,String(t))}function Bt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:oe(t)}function ln(t,e){let s=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(I(e))s=16;else if(typeof e=="object")if(n&65){const i=e.default;i&&(i._c&&(i._d=!1),ln(t,i()),i._c&&(i._d=!0));return}else{s=32;const i=e._;!i&&!Hi(e)?e._ctx=wt:i===3&&wt&&(wt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else P(e)?(e={default:e,_ctx:wt},s=32):(e=String(e),n&64?(s=16,e=[Hl(e)]):s=8);t.children=e,t.shapeFlag|=s}function Gl(...t){const e={};for(let s=0;s<t.length;s++){const n=t[s];for(const i in n)if(i==="class")e.class!==n.class&&(e.class=qs([e.class,n.class]));else if(i==="style")e.style=Ws([e.style,n.style]);else if(es(i)){const r=e[i],o=n[i];o&&r!==o&&!(I(r)&&r.includes(o))&&(e[i]=r?[].concat(r,o):o)}else i!==""&&(e[i]=n[i])}return e}function _t(t,e,s,n=null){kt(t,e,7,[s,n])}const Ul=Ai();let jl=0;function $l(t,e,s){const n=t.type,i=(e?e.appContext:t.appContext)||Ul,r={uid:jl++,vnode:t,type:n,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ao(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Gi(n,i),emitsOptions:zi(n,i),emit:null,emitted:null,propsDefaults:j,inheritAttrs:n.inheritAttrs,ctx:j,data:j,props:j,attrs:j,slots:j,refs:j,setupState:j,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=Ml.bind(null,r),t.ce&&t.ce(r),r}let tt=null;const Vl=()=>tt||wt;let Qe,Ns;{const t=is(),e=(s,n)=>{let i;return(i=t[s])||(i=t[s]=[]),i.push(n),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};Qe=e("__VUE_INSTANCE_SETTERS__",s=>tt=s),Ns=e("__VUE_SSR_SETTERS__",s=>Oe=s)}const Re=t=>{const e=tt;return Qe(t),t.scope.on(),()=>{t.scope.off(),Qe(e)}},Nn=()=>{tt&&tt.scope.off(),Qe(null)};function Zi(t){return t.vnode.shapeFlag&4}let Oe=!1;function Wl(t,e=!1,s=!1){e&&Ns(e);const{props:n,children:i}=t.vnode,r=Zi(t);gl(t,n,r,e),bl(t,i,s||e);const o=r?ql(t,e):void 0;return e&&Ns(!1),o}function ql(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,rl);const{setup:n}=s;if(n){Ot();const i=t.setupContext=n.length>1?zl(t):null,r=Re(t),o=Pe(n,t,0,[t.props,i]),l=ii(o);if(It(),r(),(l||t.sp)&&!Se(t)&&Oi(t),l){if(o.then(Nn,Nn),e)return o.then(c=>{Ln(t,c)}).catch(c=>{rs(c,t,0)});t.asyncDep=o}else Ln(t,o)}else Qi(t)}function Ln(t,e,s){P(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:q(e)&&(t.setupState=ki(e)),Qi(t)}function Qi(t,e,s){const n=t.type;t.render||(t.render=n.render||xt);{const i=Re(t);Ot();try{ol(t)}finally{It(),i()}}}const Kl={get(t,e){return X(t,"get",""),t[e]}};function zl(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,Kl),slots:t.slots,emit:t.emit,expose:e}}function cn(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(ki(Po(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in Ce)return Ce[s](t)},has(e,s){return s in e||s in Ce}})):t.proxy}function Yl(t){return P(t)&&"__vccOpts"in t}const Xl=(t,e)=>Ao(t,e,Oe),Jl="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ls;const An=typeof window<"u"&&window.trustedTypes;if(An)try{Ls=An.createPolicy("vue",{createHTML:t=>t})}catch{}const tr=Ls?t=>Ls.createHTML(t):t=>t,Zl="http://www.w3.org/2000/svg",Ql="http://www.w3.org/1998/Math/MathML",Ct=typeof document<"u"?document:null,Bn=Ct&&Ct.createElement("template"),tc={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,n)=>{const i=e==="svg"?Ct.createElementNS(Zl,t):e==="mathml"?Ct.createElementNS(Ql,t):s?Ct.createElement(t,{is:s}):Ct.createElement(t);return t==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:t=>Ct.createTextNode(t),createComment:t=>Ct.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ct.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,n,i,r){const o=s?s.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),s),!(i===r||!(i=i.nextSibling)););else{Bn.innerHTML=tr(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const l=Bn.content;if(n==="svg"||n==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}e.insertBefore(l,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},ec=Symbol("_vtc");function sc(t,e,s){const n=t[ec];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const Dn=Symbol("_vod"),nc=Symbol("_vsh"),ic=Symbol(""),rc=/(?:^|;)\s*display\s*:/;function oc(t,e,s){const n=t.style,i=z(s);let r=!1;if(s&&!i){if(e)if(z(e))for(const o of e.split(";")){const l=o.slice(0,o.indexOf(":")).trim();s[l]==null&&qe(n,l,"")}else for(const o in e)s[o]==null&&qe(n,o,"");for(const o in s)o==="display"&&(r=!0),qe(n,o,s[o])}else if(i){if(e!==s){const o=n[ic];o&&(s+=";"+o),n.cssText=s,r=rc.test(s)}}else e&&t.removeAttribute("style");Dn in t&&(t[Dn]=r?n.display:"",t[nc]&&(n.display="none"))}const Hn=/\s*!important$/;function qe(t,e,s){if(I(s))s.forEach(n=>qe(t,e,n));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const n=lc(t,e);Hn.test(s)?t.setProperty(Xt(n),s.replace(Hn,""),"important"):t[n]=s}}const Fn=["Webkit","Moz","ms"],ws={};function lc(t,e){const s=ws[e];if(s)return s;let n=Gt(e);if(n!=="filter"&&n in t)return ws[e]=n;n=ri(n);for(let i=0;i<Fn.length;i++){const r=Fn[i]+n;if(r in t)return ws[e]=r}return e}const Gn="http://www.w3.org/1999/xlink";function Un(t,e,s,n,i,r=co(e)){n&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(Gn,e.slice(6,e.length)):t.setAttributeNS(Gn,e,s):s==null||r&&!li(s)?t.removeAttribute(e):t.setAttribute(e,r?"":ce(s)?String(s):s)}function jn(t,e,s,n,i){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?tr(s):s);return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const l=r==="OPTION"?t.getAttribute("value")||"":t.value,c=s==null?t.type==="checkbox"?"on":"":String(s);(l!==c||!("_value"in t))&&(t.value=c),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const l=typeof t[e];l==="boolean"?s=li(s):s==null&&l==="string"?(s="",o=!0):l==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(i||e)}function cc(t,e,s,n){t.addEventListener(e,s,n)}function ac(t,e,s,n){t.removeEventListener(e,s,n)}const $n=Symbol("_vei");function fc(t,e,s,n,i=null){const r=t[$n]||(t[$n]={}),o=r[e];if(n&&o)o.value=n;else{const[l,c]=uc(e);if(n){const f=r[e]=gc(n,i);cc(t,l,f,c)}else o&&(ac(t,l,o,c),r[e]=void 0)}}const Vn=/(?:Once|Passive|Capture)$/;function uc(t){let e;if(Vn.test(t)){e={};let n;for(;n=t.match(Vn);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Xt(t.slice(2)),e]}let xs=0;const hc=Promise.resolve(),dc=()=>xs||(hc.then(()=>xs=0),xs=Date.now());function gc(t,e){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;kt(pc(n,s.value),e,5,[n])};return s.value=t,s.attached=dc(),s}function pc(t,e){if(I(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(n=>i=>!i._stopped&&n&&n(i))}else return e}const Wn=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,mc=(t,e,s,n,i,r)=>{const o=i==="svg";e==="class"?sc(t,n,o):e==="style"?oc(t,s,n):es(e)?js(e)||fc(t,e,s,n,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):_c(t,e,n,o))?(jn(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Un(t,e,n,o,r,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!z(n))?jn(t,Gt(e),n,r,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),Un(t,e,n,o))};function _c(t,e,s,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&Wn(e)&&P(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Wn(e)&&z(s)?!1:e in t}const bc=st({patchProp:mc},tc);let qn;function vc(){return qn||(qn=wl(bc))}const wc=((...t)=>{const e=vc().createApp(...t),{mount:s}=e;return e.mount=n=>{const i=yc(n);if(!i)return;const r=e._component;!P(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=s(i,!1,xc(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e});function xc(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function yc(t){return z(t)?document.querySelector(t):t}const kc=(t,e)=>{const s=t.__vccOpts||t;for(const[n,i]of e)s[n]=i;return s},Sc={};function Cc(t,e){return e[0]||(e[0]=Fl('<div class="tetris-logo"></div><p class="scorelbl">Score: <span id="score" data-target="score">0</span></p><div class="screen"><div class="holding"><p>Hold:</p><canvas id="holding" data-target="holdingCanvas"></canvas></div><div class="game-canvas-container"><canvas id="game" data-target="gameCanvas"></canvas></div><div class="next"><p>Next:</p><canvas id="next" data-target="nextCanvas"></canvas></div></div>',3))}const Tc=kc(Sc,[["render",Cc]]);class Ec extends $r{constructor(e){super(),this._brickSize=30,this._state=null;const{container:s}=e;wc(Tc).mount(s),this._gameCanvas=s.querySelector("[data-target=gameCanvas]"),this._holdingCanvas=s.querySelector("[data-target=holdingCanvas]"),this._nextCanvas=s.querySelector("[data-target=nextCanvas]"),this._score=s.querySelector("[data-target=score]"),this._gameCtx=this._gameCanvas.getContext("2d"),this._holdingCtx=this._holdingCanvas.getContext("2d"),this._nextCtx=this._nextCanvas.getContext("2d")}get score(){return this._score}get brickSize(){return this._brickSize}set brickSize(e){this._brickSize=e}get gameCanvas(){return this._gameCanvas}get gameCtx(){return this._gameCtx}get holdingCanvas(){return this._holdingCanvas}get nextCanvas(){return this._nextCanvas}initializeInput(){const e=this.game;this.gameCanvas.addEventListener("click",function(){e.setup.clickTick===!0&&Jn(e)}),window.addEventListener("keydown",function(n){switch(n.keyCode){case 37:n.preventDefault(),e.input.left();break;case 38:n.preventDefault(),e.input.rotate();break;case 39:n.preventDefault(),e.input.right();break;case 40:n.preventDefault(),e.input.down();break;case 32:n.preventDefault(),n.repeat!==!0&&e.input.smashDown();break;case 27:n.preventDefault(),e.running&&e.runEvent("fx",null,"sound","menuback");break;case 16:n.preventDefault(),e.input.hold();break}},!1);let s=null;this.gameCanvas.addEventListener("touchstart",function(n){const i=n.changedTouches[0];s={x:i.screenX,y:i.screenY}}),this.gameCanvas.addEventListener("touchend",function(n){const i=n.changedTouches[0],r={x:i.screenX,y:i.screenY},o=r.x-s.x,l=r.y-s.y;let f=Math.atan2(l,o)*(180/Math.PI);for(;f<0;)f+=360;f>120&&f<220?e.input.left():f>340||f<40?e.input.right():f<115&&f>65?e.input.smashDown():console.debug(f)}),this.holdingCanvas.addEventListener("click",function(){e.holdingShift()})}clearCanvases(){this.clearCanvas(this._gameCtx,this.canvasWidth,this.canvasHeight),this.clearCanvas(this._holdingCtx,this.brickSize*4,this.brickSize*4),this.clearCanvas(this._nextCtx,this.brickSize*4,this.brickSize*4)}clear(){this.clearState()}drawGrid(){us(this._gameCtx,this.game.gridColor,this.brickSize,this.brickSize,this.game.width,this.game.height);const s=this.brickSize/1.5;us(this._nextCtx,this.game.gridColor,s,s,6,6),us(this._holdingCtx,this.game.gridColor,s,s,6,6)}clearState(){this._state==null&&(this._state={bricks:{holding:[],game:[],next:[]}}),this.clearArray(this._state.bricks.holding);const e=this.clearArray(this._state.bricks.game);return this.clearArray(this._state.bricks.next),e}clearArray(e){return e.splice(0,e.length)}addToState({brick:e,old:s,state:n,x:i,y:r,blocks:o,color:l,scale:c=1}){typeof s>"u"&&(s=n);let f=e!=null?s.filter(u=>u.brick===e)[0]:null;if(typeof i!="number")if(e instanceof ft)i=e.x;else throw new Error("Missing x coordinate");if(typeof r!="number")if(e instanceof ft)r=e.y;else throw new Error("Missing x coordinate");if(typeof o>"u")if(e instanceof ft)o=e.blocks;else throw new Error("Missing blocks");if(typeof l>"u")if(e instanceof ft)l=e.color;else throw new Error("Missing color");f==null?f={brick:e,fromX:i,fromY:r,toX:i,toY:r,blocks:o,color:l,scale:c,fromStamp:new Date().getTime()}:(f.fromX=f.currentX,f.fromY=f.currentY,f.toX=i,f.toY=r,f.blocks=o,f.color=l,f.scale=c,f.fromStamp=new Date().getTime()),n.indexOf(f)===-1&&n.push(f)}drawBricks(){const e=this.clearState(),s=1.5,n=this.game.bricks;for(const i in n){if(this.game.ghostDrawing&&n[i].moving){const r=new Qt(255,255,255,.2),o=n[i].getLowestPosition();this.addToState({state:this._state.bricks.game,blocks:n[i].blocks,x:n[i].x,y:o,color:r})}this.addToState({state:this._state.bricks.game,old:e,brick:n[i]})}this.addToState({state:this._state.bricks.next,blocks:this.game.brickforms[this.game.nextRandom],x:2,y:2,color:this.game.colors[this.game.nextRandom],scale:s}),this.game.holding!=null&&this.addToState({state:this._state.bricks.holding,brick:this.game.holding,x:2,y:2,scale:s})}drawStates(){this.drawState(this._state.bricks.holding,this._holdingCtx),this.drawState(this._state.bricks.game,this._gameCtx),this.drawState(this._state.bricks.next,this._nextCtx)}mix(e,s,n){return e*(1-n)+s*n}updateBrickState(e){e.currentX=e.toX,e.currentY=e.toY}drawState(e,s){for(const n of e)this.updateBrickState(n),this.drawBrickForm(n.blocks,s,n.currentX,n.currentY,n.color,n.scale)}drawBrickForm(e,s,n,i,r,o=1){for(const l in e)for(const c in e[l])e[l][c]===!0&&this.drawSquare(s,n+parseInt(c),i+parseInt(l),r,o)}drawSquare(e,s,n,i,r=1){const o=this.brickSize/r,l=s*o,c=n*o,f=o,u=o;let d=new Wr(e,l+f/2,c+u/2,0,l+f/2,c+u/2,40);d.addColor(0,i),d.addColor(1,i.alphaScale(.5)),e.fillStyle=d.compile(),e.fillRect(l,c,f,u),d=new He(e,l+f/2,c,l+f/2,c+u),d.addColor(.2,i.alpha(.5)),d.addColor(0,Qt.Black().alpha(.9)),e.fillStyle=d.compile(),e.fillRect(l,c,f,u),d=new He(e,l,c+u/2,l+f,c+u/2),d.addColor(.3,i.scale(.7).alpha(0)),d.addColor(0,Qt.Black().alpha(.4)),e.fillStyle=d.compile(),e.fillRect(l,c,f,u),d=new He(e,l+f/2,c,l+f/2,c+u),d.addColor(.8,i.scale(.1).alpha(0)),d.addColor(1,Qt.Black()),e.fillStyle=d.compile(),e.fillRect(l,c,f,u),d=new He(e,l,c+u/2,l+f,c+u/2),d.addColor(.8,i.scale(.2).alpha(0)),d.addColor(1,Qt.Black()),e.fillStyle=d.compile(),e.fillRect(l,c,f,u)}clearCanvas(e,s,n){e.clearRect(0,0,e.canvas.width,e.canvas.height),e.canvas.width=s,e.canvas.height=n}get canvasWidth(){return this.brickSize*this.game.width}get canvasHeight(){return this.brickSize*this.game.height}initRender(){this.render(!0,!0),this.game.addEvent("update-score",e=>{this.score.innerHTML=e})}render(e=!1,s=!1){const n=this.game;(e===!0||n.PENDINGUPDATE)&&(this.drawBricks(),n.PENDINGUPDATE=!1),this.clearCanvases(),this.drawGrid(),this.drawStates(),s===!0&&requestAnimationFrame(()=>this.render(!1,s))}}const Mc=12;function ot(t){return 440*Math.pow(2,(t-57)/Mc)}function Oc(t){const s=t.sampleRate,n=s*2.706,i=t.createBuffer(1,n,s),r=i.getChannelData(0),o=60/140/4;let l=0;return Zt(r,l,ot(60),.04,s),l+=Math.floor(s*o),Zt(r,l,ot(60),.04,s),l+=Math.floor(s*o),Zt(r,l,ot(57),.04,s),l+=Math.floor(s*o),Zt(r,l,ot(62),.04,s),l+=Math.floor(s*o),Zt(r,l,ot(60),.04,s),l+=Math.floor(s*o*2),Zt(r,l,ot(57),.04,s),i}function Zt(t,e,s,n,i){const r=i*n;for(let o=0;o<r;o++){const l=o/r*s*(360*n),c=Math.sin(l*Math.PI/180),f=1-o/r,u=Math.min(o/(r/32),1),d=.4;t[e+o]=c*f*u*d}}function Ic(t){const s=t.sampleRate,n=s*.5,i=t.createBuffer(1,n,s),r=i.getChannelData(0);return Pc(r,0,ot(53),.05,s),i}function Pc(t,e,s,n,i){const r=i*n;for(let o=0;o<r;o++){let l=o/r*s*(360*n);const c=1-o/r;l*=(1+Math.sin(c*45*Math.PI/180))/2;const f=Math.sin(l*Math.PI/180),u=Math.min(o/(r/32),1),d=.4;t[e+o]=f*c*u*d}}function Rc(t){const s=t.sampleRate,n=s*2.706,i=t.createBuffer(1,n,s),r=i.getChannelData(0),o=60/170/4;let l=0;return ys(r,l,ot(60),.04,s),l+=Math.floor(s*o/2),ys(r,l,ot(64),.04,s),l+=Math.floor(s*o/2),ys(r,l,ot(72),.04,s),i}function ys(t,e,s,n,i){const r=i*n;for(let o=0;o<r;o++){const l=o/r*s*(360*n),c=Math.sin(l*Math.PI/180),f=1-o/r,u=Math.min(o/(r/32),1),d=.4;t[e+o]=c*f*u*d}}function Nc(t){const s=t.sampleRate,n=s*.5,i=t.createBuffer(1,n,s),r=i.getChannelData(0);return Lc(r,0,ot(50),.05,s),i}function Lc(t,e,s,n,i){const r=i*n;for(let o=0;o<r;o++){const l=o/r*s*(360*n),c=Math.sin(l*Math.PI/180),f=1-o/r,u=o/r,d=Math.min(o/(r/32),1),v=.6;t[e+o]=u*c*f*d*v}}function Ac(t){const s=t.sampleRate,n=s*15,i=t.createBuffer(1,n,s),r=i.getChannelData(0),o=60/128;return Bc(o,r,s),Dc(o,r,s),i}function Bc(t,e,s){const n=Math.floor(s*(t/2)),i=function(o,l,c){for(let f=0;f<l;f++){const u=c[f%c.length];Hc(e,o,ot(u),.04,s),o+=n}return o};let r=0;r=i(r,8,[64,69,72]),r=i(r,8,[64,69,71]),r=i(r,8,[65,69,72]),r=i(r,4,[64,69,74]),r=i(r,4,[67,72,76]),r=i(r,8,[65,69,74]),r=i(r,8,[65,69,72]),r=i(r,8,[64,69,72]),r=i(r,4,[64,69,71]),r=i(r,4,[67,72,76])}function Dc(t,e,s){const n=Math.floor(s*t),i=t/2,r=function(l,c,f){for(let u=0;u<c;u++)Kn(e,l+n/2,ot(f),i,s),Kn(e,l+n/2,ot(f+12),i,s),l+=n;return l};let o=0;o=r(o,4,21),o=r(o,4,23),o=r(o,4,17),o=r(o,2,21),o=r(o,2,24),o=r(o,4,26),o=r(o,4,24),o=r(o,4,21),o=r(o,2,26),o=r(o,2,24)}function Hc(t,e,s,n,i){const r=i*n;for(let o=0;o<r;o++){const l=o/r*s*(360*n);let c=Math.sin(l*Math.PI/180);c>0?c=1:c=-1;const f=1-o/r,u=Math.min(o/(r/32),1),d=o/r,v=.4;t[e+o]+=d*c*f*u*v}}function Kn(t,e,s,n,i){const r=i*n;for(let o=0;o<r;o++){const l=o/r*s*(360*n);let c=Math.sin(l*Math.PI/180);c=Math.max(-1,Math.min(1,c*2));const f=Math.min(o/(r/32),1),u=.4;t[e+o]+=c*f*u}}const Fc=[{name:"gamelose",buffer:Oc},{name:"gamebump",buffer:Ic},{name:"gamerow",buffer:Rc},{name:"gamemove",buffer:Nc},{name:"menumusic",buffer:Ac}];class Gc{constructor(){this.activated=!0,this.ready=!1,this._context=null,this._generators=null,this.failed=!1,this._audioBuffers=[],this._initialized=!1}init(){if(this._initialized!==!1)throw new Error("SoundController can only be initialized once");this._initialized=!0;try{this._context=new AudioContext;for(const e of Fc)console.log(e),this._audioBuffers[e.name]=e.buffer(this._context);this.ready=!0}catch(e){console.error(e),this._context=null,this.failed=!0}this.ready=!0}get allSoundKeys(){return Object.keys(this._audioBuffers)}playSound(e,{throwErrors:s=!1}={}){if(this.failed==!0)return!1;if(this.activated!==!0)return console.debug("sound deactivated"),!1;if(console.debug("playSound:"+e),this.ready!==!0)return console.warn("tried to play sound before ready"),!1;if(!(this._context instanceof AudioContext))return console.debug("tried to play sound with an invalid AudioContext"),!1;try{const n=this._context.createBufferSource();n.loop=!1,n.buffer=this._audioBuffers[e],n.playbackRate.value=1,n.connect(this._context.destination),n.start(0);const i=n.buffer.length/this._context.sampleRate*1e3+100;return setTimeout(()=>n.disconnect(),i),!0}catch(n){if(console.warn(n),s)throw n;return!1}}}function Uc(t){t.searchParams.get("setup")!=null&&(Tt.setup=t.searchParams.get("setup")),t.searchParams.get("next")!=null&&(Tt.next=t.searchParams.get("next")),t.searchParams.get("simulate")!=null&&(Tt.simulate=t.searchParams.get("simulate")==="1"?!0:t.searchParams.get("simulate")),t.searchParams.get("clickTick")!=null&&(Tt.clickTick=t.searchParams.get("clickTick")==="1"),t.searchParams.get("logger")!=null&&(Tt.logger=t.searchParams.get("logger")),t.searchParams.get("view")!=null&&(Tt.view=t.searchParams.get("view")),t.searchParams.get("debug")!=null&&(Tt.debug=t.searchParams.get("debug"))}const{addon:{INIT_TYPES:jc}}=Vr,$c=document.querySelector("#container"),Vc=new Ec({container:$c}),Tt=new Ur,Wc=new URL(location.href);Uc(Wc);const qc=jr(Tt,Vc);Tt.sound!=="off"&&qc.registerAddon(new Gc,(t,e)=>{t.init(),e.addEvent("fx",(s,n)=>{s==="sound"&&t.playSound(n)})},jc.AFTER_INIT);
